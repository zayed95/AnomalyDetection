"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[9791],{3248:function(e,n,r){r.d(n,{ts:function(){return u},sO:function(){return c},sR:function(){return p},Px:function(){return g}});var o=r(76118),t=r(46709),i=r(91105),l=r(46441),a=r(63908);const s=e=>(0,o.isArray)(e)?e.join():e,d={searchFilter:{deserializeLocalStorage:s,deserializeQueryString:s},orderByAsc:{serializeQueryString(e){return e.toString()},deserializeQueryString(e){return"true"===e}},datasetsFilter:{serializeQueryString(e){const n=e.map((({name:e,digest:n,context:r})=>({name:e,digest:n,context:r})));return(0,a.Qr)(JSON.stringify(n))},deserializeQueryString(e){try{const n=JSON.parse((0,a.yv)(e));return Array.isArray(n)?n:[]}catch{return[]}}},compareRunCharts:{serializeQueryString(e){return(0,a.Qr)(JSON.stringify(e))},deserializeQueryString(e){try{const n=JSON.parse((0,a.yv)(e));if(!Array.isArray(n))return;return n}catch{return}}},compareRunsMode:{serializeLocalStorage(){}}},c=["searchFilter","orderByKey","orderByAsc","startTime","lifecycleFilter","modelVersionFilter","datasetsFilter"],u="isPreview",p=()=>{const[e]=(0,i.ok)(),n=(0,t.useMemo)((()=>(0,o.pick)(Object.fromEntries(e.entries()),c)),[e]),r="true"===e.get(u),{searchFilter:a,orderByKey:s,orderByAsc:p,startTime:g,lifecycleFilter:m,modelVersionFilter:h,datasetsFilter:f}=n,v=(0,o.keys)(n).length<1,{experimentId:y}=(0,i.g)(),R=e.get("experiments"),C=(0,t.useMemo)((()=>y?[y]:R?(e=>{try{return e?JSON.parse(e):[]}catch{return[]}})(R):[]),[y,R]);return[(0,t.useMemo)((()=>{if(v)return null;const e=(e=>{const n={...e};for(const o of Object.keys(n)){var r;const e=null===(r=d[o])||void 0===r?void 0:r.deserializeQueryString;e&&(n[o]=e(n[o]))}return n})((0,o.omitBy)({searchFilter:a,orderByKey:s,orderByAsc:p,startTime:g,lifecycleFilter:m,modelVersionFilter:h,datasetsFilter:f},o.isNil));return(0,o.assign)((0,l.G)(),e)}),[a,s,p,g,m,h,f,v]),C,r]},g=()=>{const[,e]=(0,i.ok)();return(n,r)=>{const t=(e=>{const n={...e};for(const o of Object.keys(n)){var r;const e=null===(r=d[o])||void 0===r?void 0:r.serializeQueryString;e&&(n[o]=e(n[o]))}return n})(n);e((e=>((0,o.entries)(t).forEach((([n,r])=>{e.set(n,r)})),e.delete(u),e)),r)}}},10165:function(e,n,r){r.d(n,{h:function(){return u}});var o,t,i,l,a,s=r(46709);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var o in r)({}).hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},d.apply(null,arguments)}function c({title:e,titleId:n,...r},c){return s.createElement("svg",d({width:19,height:16,viewBox:"0 0 19 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:c,"aria-labelledby":n},r),e?s.createElement("title",{id:n},e):null,s.createElement("g",{clipPath:"url(#clip0_0_3)"},s.createElement("mask",{id:"mask0_0_3",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:0,y:0,width:16,height:16},o||(o=s.createElement("path",{d:"M16 0H0V16H16V0Z",fill:"white"}))),t||(t=s.createElement("g",{mask:"url(#mask0_0_3)"},s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.75 3.49999C2.05964 3.49999 1.5 4.05963 1.5 4.74999C1.5 5.44034 2.05964 5.99999 2.75 5.99999C3.44036 5.99999 4 5.44034 4 4.74999C4 4.05963 3.44036 3.49999 2.75 3.49999ZM0 4.74999C0 3.2312 1.23122 1.99999 2.75 1.99999C3.77682 1.99999 4.6722 2.56276 5.14452 3.39669L9.51655 2.44626C9.66772 1.0704 10.8338 0 12.25 0C13.7688 0 15 1.23122 15 2.75C15 3.87686 14.3222 4.84541 13.3521 5.27025L13.6341 7.52661C14.9711 7.71349 16 8.86158 16 10.25C16 11.7688 14.7687 13 13.25 13C12.3895 13 11.6214 12.6048 11.1172 11.9861L8.49749 13.1322C8.49913 13.1713 8.49997 13.2105 8.49997 13.25C8.49996 14.7688 7.26875 16 5.74997 16C4.23118 16 2.99997 14.7688 2.99996 13.25C2.99997 12.3569 3.42568 11.5633 4.08524 11.0609L3.01322 7.48755C2.92659 7.49578 2.83878 7.49999 2.75 7.49999C1.23122 7.49999 0 6.26877 0 4.74999ZM5.46534 5.18782C5.48277 5.07884 5.4938 4.96773 5.49804 4.85488L9.76409 3.92748C10.1528 4.74671 10.9346 5.34321 11.8658 5.47338L12.1478 7.72974C11.7709 7.89483 11.438 8.14204 11.1719 8.44873L5.46534 5.18782ZM4.82802 6.55126C4.70399 6.69422 4.56546 6.82424 4.41471 6.93906L5.48674 10.5124C5.57337 10.5042 5.66118 10.5 5.74997 10.5C6.69483 10.5 7.52839 10.9765 8.02345 11.7023L10.5231 10.6087C10.5079 10.4913 10.5 10.3716 10.5 10.25C10.5 10.101 10.5118 9.95475 10.5346 9.81218L4.82802 6.55126ZM12 10.25C12 9.55963 12.5596 8.99999 13.25 8.99999C13.9403 8.99999 14.5 9.55963 14.5 10.25C14.5 10.9403 13.9403 11.5 13.25 11.5C12.5596 11.5 12 10.9403 12 10.25ZM5.74997 12C5.05961 12 4.49997 12.5596 4.49997 13.25C4.49997 13.9403 5.05961 14.5 5.74997 14.5C6.44032 14.5 6.99997 13.9403 6.99997 13.25C6.99997 12.5596 6.44032 12 5.74997 12ZM11 2.75C11 2.05964 11.5596 1.5 12.25 1.5C12.9403 1.5 13.5 2.05964 13.5 2.75C13.5 3.44036 12.9403 4 12.25 4C11.5596 4 11 3.44036 11 2.75Z",fill:"currentColor"}))),i||(i=s.createElement("path",{d:"M13.5 14C15.433 14 17 12.433 17 10.5C17 8.567 15.433 7 13.5 7C11.567 7 10 8.567 10 10.5C10 12.433 11.567 14 13.5 14Z",fill:"white"})),l||(l=s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.125 11C11.125 9.41218 12.4122 8.125 14 8.125C15.5878 8.125 16.875 9.41218 16.875 11C16.875 12.5878 15.5878 13.875 14 13.875C12.4122 13.875 11.125 12.5878 11.125 11ZM14 6.625C11.5838 6.625 9.625 8.58375 9.625 11C9.625 13.4162 11.5838 15.375 14 15.375C16.4162 15.375 18.375 13.4162 18.375 11C18.375 8.58375 16.4162 6.625 14 6.625ZM14.0303 12.5303L16.0303 10.5303L14.9697 9.46967L13.5 10.9393L13.0303 10.4697L11.9697 11.5303L12.9697 12.5303L13.5 13.0607L14.0303 12.5303Z",fill:"#3BA65E"}))),a||(a=s.createElement("defs",null,s.createElement("clipPath",{id:"clip0_0_3"},s.createElement("rect",{width:19,height:16,fill:"white"})))))}const u=s.forwardRef(c);r.p},20980:function(e,n,r){r.d(n,{b:function(){return d}});var o=r(46709),t=r(60062),i=r(91105),l=r(96980);const a=(e,n)=>`/explore/data/models/${e.replace(/\./g,"/")}/version/${n}`,s=(e,n)=>(0,i.Oz)(`/models/${e}/versions/${n}`),d=({loggedModels:e,checkAcl:n=!1})=>{const{modelVersions:r,ucModels:i}=(0,o.useMemo)((()=>{const n=e.flatMap((e=>{var n;const r=null!==(n=(e=>{try{var n,r,o;const t=null===(n=e.info)||void 0===n||null===(r=n.tags)||void 0===r||null===(o=r.find((e=>"mlflow.modelVersions"===e.key)))||void 0===o?void 0:o.value;if(t)return JSON.parse(t)}catch(t){return null}return null})(e))&&void 0!==n?n:[];return r.map((n=>{const r=(0,l.f)(n.name)?a:s;return{displayedName:n.name,version:n.version,link:r(n.name,n.version),source:null,status:null,sourceLoggedModel:e}}))})),r=n.filter((e=>e.displayedName&&(0,l.f)(e.displayedName)));return{modelVersions:n,ucModels:r}}),[e]),{aclResults:d,isLoading:c}=((e,n)=>{const r=(0,o.useMemo)((()=>(n&&e.length,[])),[e,n]),i=(0,t.E)({queries:r}),{aclResults:l,isLoading:a}=(0,o.useMemo)((()=>n&&0!==e.length?{aclResults:{},isLoading:i.some((e=>e.isLoading))}:{aclResults:{},isLoading:!1}),[i,n,e.length]);return{aclResults:l,isLoading:a}})(i,n);return{modelVersions:(0,o.useMemo)((()=>r.map((e=>{const r=e.displayedName,o=r&&(0,l.f)(r);let t=!0;var i;n&&o&&r&&(t=null!==(i=d[`${r}:${e.version}`])&&void 0!==i&&i);return{...e,hasAccess:t}}))),[r,n,d]),isLoading:c}}},29944:function(e,n,r){r.d(n,{v:function(){return a}});var o=r(46709),t=r(52572),i=r(34931),l=r(31655);const a=(e,n=!0)=>{const r=(0,t.e)(),a=(0,o.useRef)(e);a.current=e;const s=(0,o.useCallback)(((e,o,t)=>{r((r=>{if(e===i.oy.CUSTOM&&o){var l;const e={...r.runsVisibilityMap},i=null===(l=a.current.find((({rowUuid:e,groupParentInfo:n})=>e===o&&n)))||void 0===l?void 0:l.groupParentInfo;if(i&&!1===n)for(const n of i.runUuids)e[n]=!t;else e[o]=!t;return{...r,runsVisibilityMap:e}}return[i.oy.SHOWALL,i.oy.HIDEALL,i.oy.FIRST_10_RUNS,i.oy.FIRST_20_RUNS,i.oy.HIDE_FINISHED_RUNS].includes(e)?{...r,runsHiddenMode:e,runsHidden:[],runsVisibilityMap:{}}:r}))}),[r,n]),d=(0,o.useCallback)(((e,o)=>{r((r=>{if(e===i.oy.SHOWALL)return{...r,runsHiddenMode:i.oy.SHOWALL,runsHidden:[]};if(e===i.oy.HIDEALL)return{...r,runsHiddenMode:i.oy.HIDEALL,runsHidden:[]};if(e===i.oy.FIRST_10_RUNS)return{...r,runsHiddenMode:i.oy.FIRST_10_RUNS,runsHidden:[]};if(e===i.oy.FIRST_20_RUNS)return{...r,runsHiddenMode:i.oy.FIRST_20_RUNS,runsHidden:[]};if(e===i.oy.HIDE_FINISHED_RUNS)return{...r,runsHiddenMode:i.oy.HIDE_FINISHED_RUNS,runsHidden:[]};if(o){var t;const e=a.current.filter((({hidden:e})=>e)).map((({groupParentInfo:e,rowUuid:n,runUuid:r})=>e?n:r)),l=null===(t=a.current.find((({rowUuid:e,groupParentInfo:n})=>e===o&&n)))||void 0===t?void 0:t.groupParentInfo;if(l&&!1===n){let n=[];return n=l.allRunsHidden?e.filter((e=>!l.runUuids.includes(e))):e.concat(l.runUuids.filter((n=>!e.includes(n)))),{...r,runsHiddenMode:i.oy.CUSTOM,runsHidden:n}}const s=e.includes(o)?e.filter((e=>e!==o)):[...e,o];return{...r,runsHiddenMode:i.oy.CUSTOM,runsHidden:s}}return r}))}),[r,n]);return(0,l.Rn)()?s:d}},30167:function(e,n,r){r.d(n,{V:function(){return d}});var o=r(68248),t=(r(46709),r(27757)),i=r(27299),l=r(91701),a=r(73408);var s={name:"4fhn5u",styles:"white-space:pre-wrap;overflow-y:auto;flex:1"};const d=({content:e,copyText:n,headerText:r,empty:d,onClose:c})=>{const{theme:u}=(0,t.u)();return(0,a.Y)("div",{css:(0,o.AH)({width:300,padding:u.spacing.sm,paddingRight:0,borderLeft:`1px solid ${u.colors.borderDecorative}`,overflow:"hidden",display:"flex",flexDirection:"column",height:"100%"},""),"data-testid":"preview-sidebar-content",children:e?(0,a.FD)(a.FK,{children:[(0,a.FD)("div",{css:(0,o.AH)({display:"grid",gridTemplateColumns:"1fr auto auto",rowGap:u.spacing.sm,alignItems:"flex-start",flex:"0 0 auto"},""),children:[r&&(0,a.Y)(t.T.Title,{level:4,css:(0,o.AH)({overflowX:"hidden",overflowY:"auto",marginTop:u.spacing.sm,marginRight:u.spacing.xs,maxHeight:200},""),children:r}),n&&(0,a.Y)(l.i,{copyText:n,showLabel:!1,icon:(0,a.Y)(i.CopyIcon,{})}),c&&(0,a.Y)(t.B,{componentId:"codegen_mlflow_app_src_common_components_previewsidebar.tsx_67",type:"primary",icon:(0,a.Y)(t.C,{}),onClick:c})]}),(0,a.Y)("div",{css:s,children:e})]}):(0,a.Y)("div",{css:(0,o.AH)({marginTop:u.spacing.md},""),children:d})})}},31153:function(e,n,r){r.d(n,{F:function(){return c}});var o=r(68248),t=r(27757),i=r(27299),l=r(66916),a=r(73408);const s=()=>{const{theme:e}=(0,t.u)();return(0,a.Y)(i.XCircleIcon,{css:(0,o.AH)({color:e.colors.textValidationDanger},"")})},d=()=>{const{theme:e}=(0,t.u)();return(0,a.Y)(i.CheckCircleIcon,{css:(0,o.AH)({color:e.colors.textValidationSuccess},"")})},c=({status:e,useSpinner:n})=>{switch(e){case"FAILED":case"KILLED":return(0,a.Y)(s,{});case"FINISHED":return(0,a.Y)(d,{});case"SCHEDULED":case"RUNNING":return n?(0,a.Y)(t.S,{size:"small"}):(0,a.Y)(l.C,{});default:return null}}},42762:function(e,n,r){r.d(n,{m:function(){return l}});var o=r(27299),t=r(28126),i=r(73408);const l=({sourceType:e,className:n})=>e===t.Y1.NOTEBOOK?(0,i.Y)(o.NotebookIcon,{className:n}):e===t.Y1.LOCAL?(0,i.Y)(o.FileCodeIcon,{className:n}):e===t.Y1.PROJECT?(0,i.Y)(o.FolderBranchIcon,{className:n}):e===t.Y1.JOB?(0,i.Y)(o.WorkflowsIcon,{className:n}):null},43766:function(e,n,r){r.d(n,{h:function(){return s}});var o,t,i=r(46709);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var o in r)({}).hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},l.apply(null,arguments)}function a({title:e,titleId:n,...r},a){return i.createElement("svg",l({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:a,"aria-labelledby":n},r),e?i.createElement("title",{id:n},e):null,o||(o=i.createElement("path",{d:"M8 3C3.45 3 1.4375 6.33333 1 8C1.4375 9.66667 3.45 13 8 13C12.55 13 14.5625 9.66667 15 8C14.5625 6.33333 12.55 3 8 3Z",fill:"currentColor",stroke:"currentColor"})),t||(t=i.createElement("circle",{cx:8,cy:8,r:2.25,fill:"currentColor",stroke:"white",strokeWidth:1.5})))}const s=i.forwardRef(a);r.p},46441:function(e,n,r){r.d(n,{G:function(){return t}});var o=r(44105);const t=()=>({searchFilter:"",orderByKey:o.XM,orderByAsc:o.z$,startTime:o.xx,lifecycleFilter:o.ae,datasetsFilter:[],modelVersionFilter:o.eR})},54741:function(e,n,r){r.d(n,{L:function(){return i}});var o=r(81641);const t=o.J1`
  query MlflowGetExperimentQuery($input: MlflowGetExperimentInput!) @component(name: "MLflow.ExperimentRunTracking") {
    mlflowGetExperiment(input: $input) {
      apiError {
        code
        message
      }
      experiment {
        artifactLocation
        creationTime
        experimentId
        lastUpdateTime
        lifecycleStage
        name
        tags {
          key
          value
        }
      }
    }
  }
`,i=({experimentId:e,options:n={}})=>{var r;const{data:i,loading:l,error:a,refetch:s}=(0,o.IT)(t,{variables:{input:{experimentId:e}},skip:!e,...n});return{loading:l,data:null===i||void 0===i||null===(r=i.mlflowGetExperiment)||void 0===r?void 0:r.experiment,refetch:s,apolloError:a,apiError:(()=>{var e;return null===i||void 0===i||null===(e=i.mlflowGetExperiment)||void 0===e?void 0:e.apiError})()}}},57670:function(e,n,r){r.d(n,{p:function(){return a}});var o=r(27757),t=r(46709),i=r(73408);const l=t.lazy((()=>Promise.all([r.e(1575),r.e(5964)]).then(r.bind(r,95964)))),a=e=>(0,i.Y)(t.Suspense,{fallback:(0,i.Y)("div",{css:e=>({display:"flex",justifyContent:"center",margin:e.spacing.md}),children:(0,i.Y)(o.S,{})}),children:(0,i.Y)(l,{...e})})},71625:function(e,n,r){r.d(n,{t:function(){return c}});var o=r(68248),t=r(46709),i=r(11522),l=r(27757),a=r(42762),s=r(73408);var d={name:"1gz2b5f",styles:"overflow:hidden;text-overflow:ellipsis"};const c=t.memo((({value:e})=>{var n;const{theme:r}=(0,l.u)();if(!e)return(0,s.Y)(s.FK,{children:"-"});const t=(null===(n=e[i.A.sourceTypeTag])||void 0===n?void 0:n.value)||"",c=i.A.renderSource(e||{},void 0,void 0);return c?(0,s.FD)("div",{css:(0,o.AH)({display:"flex",gap:r.spacing.xs,alignItems:"center"},""),children:[(0,s.Y)(a.m,{sourceType:t,css:(0,o.AH)({color:r.colors.textSecondary},"")}),(0,s.Y)("span",{css:d,children:c})]}):(0,s.Y)(s.FK,{children:"-"})}))},88625:function(e,n,r){r.d(n,{P:function(){return xn},T:function(){return bn}});var o=r(76221),t=r.n(o),i=r(46709),l=r(57670),a=r(11522),s=r(63591),d=r(27757),c=r(76118),u=r(44105),p=r(68248),g=r(27299),m=r(3248),h=r(73408);var f={name:"12si88q",styles:"height:100%;width:100%;display:flex;align-items:center;justify-content:space-between"};const v=({enableSorting:e,canonicalSortKey:n,displayName:r,context:o})=>{const{orderByKey:t,orderByAsc:i}=o||{},l=(0,m.Px)(),a=n,{theme:s}=(0,d.u)();return(0,h.Y)("div",{role:"columnheader",css:f,children:(0,h.FD)("div",{css:(0,p.AH)({height:"100%",width:"100%",display:"flex",alignItems:"center",overflow:"hidden",paddingLeft:s.spacing.xs+s.spacing.sm,paddingRight:s.spacing.xs+s.spacing.sm,gap:s.spacing.sm,svg:{color:s.colors.textSecondary},"&:hover":{color:e?s.colors.actionTertiaryTextHover:"unset",svg:{color:s.colors.actionTertiaryTextHover}}},""),className:a===t?"is-ordered-by":"",onClick:e?()=>{let e=!i;a!==t&&(e=!1),l({orderByKey:a,orderByAsc:e})}:void 0,children:[(0,h.Y)("span",{"data-testid":`sort-header-${r}`,children:r}),e&&a===t?i?(0,h.Y)(g.SortAscendingIcon,{}):(0,h.Y)(g.SortDescendingIcon,{}):null]})})};var y=r(31153),R=r(7655);const C=i.memo((({value:e})=>{const{startTime:n,referenceTime:r,runStatus:o}=e||{},t=(0,R.A)();return n?(0,h.FD)("span",{css:x.cellWrapper,title:a.A.formatTimestamp(n,t),children:[(0,h.Y)(y.F,{status:o}),a.A.timeSinceStr(n,r)]}):(0,h.Y)(h.FK,{children:"-"})})),x={cellWrapper:e=>({display:"flex",alignItems:"center",gap:e.spacing.sm})};var E=r(79081);const b=({text:e,maxSize:n,className:r,allowShowMore:o=!1,dataTestId:t})=>{if(e.length<=n)return(0,h.Y)("span",{className:r,"data-testid":t,children:e});const l=`${e.substr(0,n)}...`,[a,s]=(0,i.useState)(!1);return(0,h.FD)("span",{className:r,"data-testid":t,children:[a?e:l,o&&(0,h.Y)(d.B,{componentId:"codegen_mlflow_app_src_common_components_trimmedtext.tsx_30",type:"link",onClick:()=>s(!a),size:"small",css:I.expandButton,"data-testid":"trimmed-text-button",children:a?"collapse":"expand"})]})},I={expandButton:{display:"inline-block"}},M=i.memo((({value:e})=>{const n=a.A.getRunDescriptionFromTags(e)||"-";return(0,h.Y)(h.FK,{children:(0,h.Y)(E.T,{componentId:"mlflow.experiment-tracking.run-description.display",content:n,children:(0,h.Y)("span",{children:(0,h.Y)(b,{text:n,maxSize:50})})})})}));var w=r(91105),_=r(60284);const S=i.memo((({data:e,value:n})=>e.experimentId?(0,h.Y)(w.N_,{to:_.Ay.getExperimentPageRoute(e.experimentId),title:n.name,children:n.basename}):null));var k=r(27206),T=r(10165),A=r(40724),N=r(20980),D=r(96980),Y=r(31655);var L={name:"pnv6it",styles:"color:inherit;text-decoration:underline"},O={name:"1989ovb",styles:"vertical-align:middle"},F={name:"1p2zdak",styles:"margin-right:0;vertical-align:middle"},P={name:"osm46o",styles:"width:20px;display:flex;align-items:center;justify-content:flex-start;flex-shrink:0"},H={name:"167129t",styles:"text-overflow:ellipsis;overflow:hidden;cursor:pointer"};const U=({model:{isUc:e,registeredModelName:n,registeredModelVersion:r,flavors:o,artifactPath:t,originalLoggedModel:i}={},experimentId:l,runUuid:a})=>{const{theme:s}=(0,d.u)();return(0,h.FD)("div",{css:(0,p.AH)({display:"flex",alignItems:"center",gap:s.spacing.xs,overflow:"hidden"},""),children:[(0,h.Y)("div",{css:P,children:n?(0,h.Y)(T.h,{css:(0,p.AH)({color:s.colors.actionPrimaryBackgroundDefault},"")}):(0,h.Y)(g.ModelsIcon,{css:(0,p.AH)({color:s.colors.actionPrimaryBackgroundDefault},"")})}),(0,h.Y)(w.N_,{to:n&&r?k.fM.getModelVersionPageRoute(n,r):_.Ay.getRunPageRoute(l,a,t),target:"_blank",css:H,children:(()=>{let e=`${n} v${r}`;if(n&&r&&i&&(0,Y.UJ)()){var t,l;const n=null===(t=i.info)||void 0===t?void 0:t.experiment_id,r=null===(l=i.info)||void 0===l?void 0:l.model_id;var a;if(n&&r)e=(0,h.Y)(A.A,{id:"BY1k4W",defaultMessage:"Original logged model: {originalModelLink}",values:{originalModelLink:(0,h.Y)(w.N_,{to:_.Ay.getExperimentLoggedModelDetailsPage(n,r),css:L,children:null===(a=i.info)||void 0===a?void 0:a.name})}})}if(n)return(0,h.Y)(E.T,{componentId:"mlflow.experiment-tracking.models-cell.model-link",content:e,side:"top",align:"start",children:(0,h.FD)("span",{children:[(0,h.Y)("span",{css:O,children:n})," ",(0,h.FD)(g.Tag,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_cells_modelscellrenderer.tsx_49",css:F,children:["v",r]})]})});return(null===o||void 0===o?void 0:o[0])||(0,h.Y)(A.A,{id:"giZdtW",defaultMessage:"Model"})})()})]})};var B={name:"osm46o",styles:"width:20px;display:flex;align-items:center;justify-content:flex-start;flex-shrink:0"},G={name:"167129t",styles:"text-overflow:ellipsis;overflow:hidden;cursor:pointer"};const V=({model:e})=>{var n,r;const{theme:o}=(0,d.u)();return null!==(n=e.info)&&void 0!==n&&n.model_id&&null!==(r=e.info)&&void 0!==r&&r.experiment_id?(0,h.FD)("div",{css:(0,p.AH)({display:"flex",alignItems:"center",gap:o.spacing.xs,overflow:"hidden"},""),children:[(0,h.Y)("div",{css:B,children:(0,h.Y)(g.ModelsIcon,{css:(0,p.AH)({color:o.colors.actionPrimaryBackgroundDefault},"")})}),(0,h.Y)(w.N_,{to:_.Ay.getExperimentLoggedModelDetailsPage(e.info.experiment_id,e.info.model_id),target:"_blank",css:G,children:e.info.name})]}):null};var z={name:"1xsgnar",styles:"width:100%;&>div{max-width:100%;display:flex;}"};const K=i.memo((e=>{const{registeredModels:n=[],loggedModels:r=[],loggedModelsV3:o,experimentId:t,runUuid:l}=e.value||{},s=a.A.mergeLoggedAndRegisteredModels(r,n),{modelVersions:d}=(0,N.b)({loggedModels:o||[]}),u=(0,i.useMemo)((()=>{if(!(0,Y.ht)())return{};const e={};return d.forEach((n=>{var r,o;const t=null===(r=n.sourceLoggedModel)||void 0===r||null===(o=r.info)||void 0===o?void 0:o.model_id;if(t){var i,l,a,s,d;const r=e[t]||[],o=null!==(i=n.displayedName)&&void 0!==i?i:void 0;r.push({registeredModelName:o,registeredModelVersion:null!==(l=n.version)&&void 0!==l?l:void 0,isUc:(0,D.f)(null!==o&&void 0!==o?o:""),artifactPath:null!==(a=null===(s=n.sourceLoggedModel)||void 0===s||null===(d=s.info)||void 0===d?void 0:d.artifact_uri)&&void 0!==a?a:"",flavors:[],originalLoggedModel:n.sourceLoggedModel}),e[t]=r}})),e}),[d]),p=(0,i.useMemo)((()=>{const e=[...s,...Array.from((0,c.values)(u)).flat()];return(0,c.uniqBy)(e,(e=>{var n;return JSON.stringify(e.registeredModelName&&e.registeredModelVersion?[e.registeredModelName,null===(n=e.registeredModelVersion)||void 0===n?void 0:n.toString()]:[e.artifactPath])}))}),[s,u]),m=!(0,c.isEmpty)(p)||!(0,c.isEmpty)(o);return e.value&&m?(0,h.Y)("div",{css:z,children:(0,h.FD)(g.Overflow,{children:[p.map(((e,n)=>(0,h.Y)(U,{model:e,experimentId:t,runUuid:l},e.artifactPath||n))),null===o||void 0===o?void 0:o.map(((e,n)=>{var r,o,t;const i=null===(r=e.info)||void 0===r?void 0:r.model_id,l=i?u[i]:[];return(0,c.isEmpty)(l)?(0,h.Y)(V,{model:e},null!==(o=null===(t=e.info)||void 0===t?void 0:t.model_id)&&void 0!==o?o:n):null}))]})}):(0,h.Y)(h.FK,{children:"-"})})),q=i.memo((()=>{const{theme:e}=(0,d.u)(),n=(0,Y.UJ)()&&(0,Y.ht)();return(0,h.Y)("div",{role:"columnheader",css:(0,p.AH)({height:"100%",width:"100%",display:"flex",alignItems:"center",padding:"0 12px",gap:e.spacing.xs},""),children:n?(0,h.FD)(h.FK,{children:[u.qo.MODELS,(0,h.Y)(g.InfoTooltip,{componentId:"mlflow.experiment_view_runs_table.column_header.models.tooltip",content:(0,h.Y)(A.A,{id:"vVSm7w",defaultMessage:"This column contains all models logged or evaluated by the run. Click into an individual run to see more detailed information about all models associated with it."})})]}):(0,h.Y)(E.T,{componentId:"mlflow.experiment-tracking.models-header.info",content:(0,h.Y)(A.A,{id:"c0slEY",defaultMessage:"Click into an individual run to see all models associated with it"}),children:(0,h.Y)("span",{children:u.qo.MODELS})})})}));var W=r(71625);const $=i.memo((({value:e})=>{if(!e)return(0,h.Y)(h.FK,{children:"-"});const{version:n,name:r,type:o}=e;return a.A.renderSourceVersion(n,r,o)||(0,h.Y)(h.FK,{children:"-"})}));var j=r(90142),Z=r(77680),Q=r(1475),J=r(52572),X=r(34931),ee=r(43766);const ne=()=>(0,h.Y)(d.I,{component:ee.h}),re=({runUuid:e,className:n,rowHidden:r,buttonHidden:o,disabled:t,onClick:i,label:l})=>{const{theme:a}=(0,d.u)();return o?(0,h.Y)("div",{className:n,css:[oe.button(a),""]}):t?(0,h.Y)(g.VisibleOffIcon,{className:n,css:[oe.button(a),{opacity:.25,color:a.colors.grey400},""]}):(0,h.Y)(E.T,{delayDuration:0,side:"left",content:l,componentId:"mlflow.run.row_actions.visibility.tooltip",children:(0,h.FD)("label",{className:n,css:oe.button(a),children:[(0,h.Y)("span",{css:d.N,children:l}),(0,h.Y)("input",{type:"checkbox",className:"is-visibility-toggle-checkbox",checked:!r,onChange:()=>{if(e){const n=!r;i(X.oy.CUSTOM,e,n)}}}),r?(0,h.Y)(g.VisibleOffIcon,{}):(0,h.Y)(ne,{})]})})},oe={button:e=>({width:e.general.iconFontSize,color:e.colors.grey400,".ag-row:hover &":{color:e.colors.grey500}})},te=i.createContext({runsHiddenMode:X.oy.FIRST_10_RUNS,useGroupedValuesInCharts:!0,usingCustomVisibility:!1,allRunsHidden:!1}),ie=({children:e,runsHiddenMode:n,useGroupedValuesInCharts:r,usingCustomVisibility:o,allRunsHidden:t})=>{const l=(0,i.useMemo)((()=>({runsHiddenMode:n,useGroupedValuesInCharts:null===r||void 0===r||r,usingCustomVisibility:null!==o&&void 0!==o&&o,allRunsHidden:null!==t&&void 0!==t&&t})),[n,r,o,t]);return(0,h.Y)(te.Provider,{value:l,children:e})},le=()=>i.useContext(te),ae={visibility:{groups:(0,Z.YK)({unhide:{id:"8Gz0OE",defaultMessage:"Unhide group"},hide:{id:"TfuAgs",defaultMessage:"Hide group"}}),runs:(0,Z.YK)({unhide:{id:"xmpvlI",defaultMessage:"Unhide run"},hide:{id:"qTjYVU",defaultMessage:"Hide run"}})},pinning:{groups:(0,Z.YK)({unpin:{id:"jkeYf8",defaultMessage:"Unpin group"},pin:{id:"8hpS0b",defaultMessage:"Pin group"}}),runs:(0,Z.YK)({unpin:{id:"ugm2f6",defaultMessage:"Unpin run"},pin:{id:"fjiojF",defaultMessage:"Pin run"}})}},se=i.memo((e=>{const n=(0,J.e)(),{theme:r}=(0,d.u)(),{useGroupedValuesInCharts:o}=le(),{groupParentInfo:t,runDateAndNestInfo:i,visibilityControl:l}=e.data,{belongsToGroup:a}=i||{},s=Boolean(t),c=l===Q.VB.Disabled,{pinned:u,hidden:p}=e.value,{runUuid:m,rowUuid:f}=e.data,v=t?f:m,y=!1===o&&t?Boolean(t.allRunsHidden):p,R=s?y?ae.visibility.groups.unhide:ae.visibility.groups.hide:y?ae.visibility.runs.unhide:ae.visibility.runs.hide,C=s?u?ae.pinning.groups.unpin:ae.pinning.groups.pin:u?ae.pinning.runs.unpin:ae.pinning.runs.pin,x=l===Q.VB.Hidden;return(0,h.FD)("div",{css:ce.actionsContainer,children:[(0,h.Y)(re,{rowHidden:y,buttonHidden:x,disabled:c,label:(0,h.Y)(A.A,{...R}),onClick:e.onToggleVisibility,runUuid:v,css:[ce.actionCheckbox(r),ce.showOnlyInCompareMode,""]}),(e.data.pinnable&&m||t)&&(0,h.Y)(E.T,{componentId:"mlflow.run.row_actions.pinning.tooltip",delayDuration:0,side:"right",content:(0,h.Y)(A.A,{...C}),children:(0,h.FD)("label",{css:ce.actionCheckbox(r),className:"is-pin-toggle","data-testid":"column-pin-toggle",children:[(0,h.Y)("span",{css:d.N,children:(0,h.Y)(A.A,{...C})}),(0,h.Y)("input",{type:"checkbox",checked:u,onChange:()=>{const r=t?e.data.rowUuid:m;n((e=>r?{...e,runsPinned:e.runsPinned.includes(r)?e.runsPinned.filter((e=>e!==r)):[...e.runsPinned,r]}:e))}}),u?(0,h.Y)(g.PinFillIcon,{}):(0,h.Y)(g.PinIcon,{})]})},Math.random())]})}),((e,n)=>{var r,o;return e.value.hidden===n.value.hidden&&e.value.pinned===n.value.pinned&&e.data.visibilityControl===n.data.visibilityControl&&(null===(r=e.data.groupParentInfo)||void 0===r?void 0:r.allRunsHidden)===(null===(o=n.data.groupParentInfo)||void 0===o?void 0:o.allRunsHidden)})),de=({event:e})=>!!("Tab"===e.key&&e.target instanceof HTMLElement&&(e.target.classList.contains("ag-cell")||e.target.classList.contains("is-visibility-toggle-checkbox"))),ce={actionsContainer:{display:"flex",gap:18},showOnlyInCompareMode:{display:"none",".is-table-comparing-runs-mode &":{display:"flex"}},actionCheckbox:e=>({input:{width:0,appearance:"none"},cursor:"pointer",display:"flex",svg:{width:e.general.iconFontSize,height:e.general.iconFontSize,cursor:"pointer"},"&.is-pin-toggle svg":{color:"transparent",".ag-row:hover &":{color:e.colors.grey500}},"& input:checked + span svg":{color:e.colors.grey500},"& input:focus-visible + span svg":{color:e.colors.grey500}})},ue=()=>(0,h.Y)(d.I,{component:ee.h}),pe=i.memo((({onToggleVisibility:e})=>{const{theme:n}=(0,d.u)(),r=(0,R.A)(),{runsHiddenMode:o,usingCustomVisibility:t,allRunsHidden:i}=le();return(0,h.FD)(g.DropdownMenu.Root,{modal:!1,children:[(0,h.Y)(g.DropdownMenu.Trigger,{asChild:!0,children:(0,h.Y)("button",{css:[me.actionButton(n),me.showOnlyInCompareMode,""],"data-testid":"experiment-view-runs-visibility-column-header","aria-label":r.formatMessage({id:"9HXup+",defaultMessage:"Toggle visibility of runs"}),children:o===X.oy.HIDEALL||i?(0,h.Y)(g.VisibleOffIcon,{}):(0,h.Y)(ue,{})})}),(0,h.Y)(g.DropdownMenu.Content,{children:(0,h.FD)(g.DropdownMenu.RadioGroup,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_cells_rowactionsheadercellrenderer.tsx_52",value:o,onValueChange:n=>e(n),children:[(0,h.FD)(g.DropdownMenu.RadioItem,{value:X.oy.FIRST_10_RUNS,children:[(0,h.Y)(g.DropdownMenu.ItemIndicator,{children:t?(0,h.Y)(g.DashIcon,{}):null}),(0,h.Y)(A.A,{id:"w39cZ4",defaultMessage:"Show first 10"})]}),(0,h.FD)(g.DropdownMenu.RadioItem,{value:X.oy.FIRST_20_RUNS,children:[(0,h.Y)(g.DropdownMenu.ItemIndicator,{children:t?(0,h.Y)(g.DashIcon,{}):null}),(0,h.Y)(A.A,{id:"ONIiUE",defaultMessage:"Show first 20"})]}),(0,h.FD)(g.DropdownMenu.RadioItem,{value:X.oy.SHOWALL,children:[(0,h.Y)(g.DropdownMenu.ItemIndicator,{children:t?(0,h.Y)(g.DashIcon,{}):null}),(0,h.Y)(A.A,{id:"4yjF8O",defaultMessage:"Show all runs"})]}),(0,h.FD)(g.DropdownMenu.RadioItem,{value:X.oy.HIDEALL,children:[(0,h.Y)(g.DropdownMenu.ItemIndicator,{children:t?(0,h.Y)(g.DashIcon,{}):null}),(0,h.Y)(A.A,{id:"Qi6Etm",defaultMessage:"Hide all runs"})]}),(0,h.FD)(g.DropdownMenu.RadioItem,{value:X.oy.HIDE_FINISHED_RUNS,children:[(0,h.Y)(g.DropdownMenu.ItemIndicator,{children:t?(0,h.Y)(g.DashIcon,{}):null}),(0,h.Y)(A.A,{id:"ega/Za",defaultMessage:"Hide finished runs"})]})]})})]})})),ge=i.memo((e=>{const n=(0,R.A)();return(0,i.useEffect)((()=>{var r;const o=null===(r=e.eGridHeader)||void 0===r?void 0:r.querySelector("input");o&&(o.ariaLabel=n.formatMessage({id:"Csmj/2",defaultMessage:"Select all runs"}))}),[e.eGridHeader,n]),(0,h.Y)(pe,{...e})})),me={actionButton:e=>({background:"transparent",border:"none",cursor:"pointer",padding:"8px",".ag-checkbox:not(.ag-hidden) + &":{padding:"0 1px"},svg:{width:e.general.iconFontSize,height:e.general.iconFontSize,cursor:"pointer",color:e.colors.grey500}}),showOnlyInCompareMode:{display:"none",".is-table-comparing-runs-mode &":{display:"flex"}}};var he=r(18585),fe=r(67063),ve=r(59930),ye=r.n(ve),Re=r(49620);var Ce={name:"1gz2b5f",styles:"overflow:hidden;text-overflow:ellipsis"},xe={name:"mlsake",styles:"margin-left:0;margin-right:0"},Ee={name:"oq2rn6",styles:"svg{width:12px;height:12px;}"};const be=({data:e,isComparingRuns:n})=>{const r=e.groupParentInfo,o=e.hidden;ye()(r,"groupParentInfo should be defined");const{theme:t}=(0,d.u)(),l=(0,w.zy)(),{useGroupedValuesInCharts:a}=le(),s=(0,Re.LE)(),c=(0,Re.MQ)(),u=(0,J.e)(),f=(0,i.useCallback)(((e,n)=>{u((r=>{const{groupsExpanded:o}=r;return{...r,groupsExpanded:{...o,[e]:n}}}))}),[u]),v=(0,he.QD)(r),y=a&&!(0,he.mC)(r),R=(0,i.useMemo)((()=>{const e=(0,he.dx)(r),n=new URLSearchParams(l.search);n.set("searchFilter",e),n.set(m.ts,"true");return{...l,search:n.toString()}}),[r,l]);return(0,h.FD)("div",{css:(0,p.AH)({display:"flex",gap:t.spacing.sm,alignItems:"center"},""),children:[r.expanderOpen?(0,h.Y)(g.ChevronDownIcon,{role:"button",onClick:()=>{f(r.groupId,!1)}}):(0,h.Y)(d.o,{role:"button",onClick:()=>{f(r.groupId,!0)}}),y&&(0,h.Y)(fe.E,{color:s(r.groupId),hidden:n&&o,onChangeColor:e=>{c({groupUuid:r.groupId,colorValue:e})}}),(0,h.FD)("div",{css:(0,p.AH)({display:"inline-flex",gap:t.spacing.sm,alignItems:"center",overflow:"hidden",textOverflow:"ellipsis"},""),children:[(0,he.mC)(r)?(0,h.Y)(A.A,{id:"PKYh23",defaultMessage:"Additional runs"}):(0,h.Y)("span",{title:v,css:Ce,children:(0,h.Y)(A.A,{id:"jq95vC",defaultMessage:"Group: {groupName}",values:{groupName:v}})}),(0,h.Y)(g.Tag,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_cells_groupparentcellrenderer.tsx_109",css:xe,children:r.runUuids.length}),(0,h.Y)(E.T,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_cells_groupparentcellrenderer.tsx_136",content:(0,h.Y)(A.A,{id:"+w9a+1",defaultMessage:"Open runs in this group in the new tab"}),children:(0,h.Y)(w.N_,{to:R,target:"_blank",css:(0,p.AH)({marginLeft:-t.spacing.xs,display:"none",".ag-row-hover &":{display:"inline-flex"}},""),children:(0,h.Y)(d.B,{type:"link",componentId:"mlflow.experiment_page.grouped_runs.open_runs_in_new_tab",size:"small",icon:(0,h.Y)(d.au,{css:Ee})})})})]})]})};var Ie={name:"xahbfd",styles:"width:12px;height:12px;flex-shrink:0"};const Me=i.memo((e=>{const{theme:n}=(0,d.u)(),r=(0,Re.MQ)(),o=(0,Re.LE)(),{useGroupedValuesInCharts:t}=le();if(e.data.groupParentInfo)return(0,h.Y)(be,{...e});const{onExpand:i,data:l}=e,{runName:a,experimentId:s,runUuid:c,runDateAndNestInfo:u,hidden:p}=l;ye()(s,"experimentId should be set for run rows"),ye()(c,"runUuid should be set for run rows"),ye()(u,"runDateAndNestInfo should be set for run rows");const{hasExpander:m,expanderOpen:f,childrenIds:v,level:y,belongsToGroup:R}=u,C=!isNaN(y)&&m,x=R&&t;return(0,h.FD)("div",{css:we.cellWrapper,children:[(0,h.Y)("div",{css:we.expanderWrapper,children:(0,h.Y)("div",{css:we.nestLevel(n),style:{width:(y+1)*n.spacing.lg},children:C&&(0,h.Y)(d.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_cells_runnamecellrenderer.tsx_46",css:we.expanderButton,size:"small",onClick:()=>{i(c,v)},type:"link",icon:f?(0,h.Y)(g.MinusSquareIcon,{}):(0,h.Y)(g.PlusSquareIcon,{})},"Expander-"+c)})}),(0,h.FD)("div",{css:we.runLink,children:[x?(0,h.Y)("div",{css:Ie}):(0,h.Y)(fe.E,{color:o(c),hidden:e.isComparingRuns&&p,"data-testid":"experiment-view-table-run-color",onChangeColor:e=>r({runUuid:c,colorValue:e})}),(0,h.Y)(w.N_,{to:_.Ay.getRunPageRoute(s,c),css:we.runLink,tabIndex:0,children:(0,h.Y)("span",{css:we.runName,children:a})})]})]})})),we={link:e=>({display:"inline-block",minWidth:e.typography.fontSizeBase,minHeight:e.typography.fontSizeBase}),cellWrapper:{display:"flex"},expanderButton:{svg:{width:12,height:12}},runLink:{overflow:"hidden",display:"flex",gap:8,alignItems:"center","&:focus-visible":{textDecoration:"underline"}},runName:{overflow:"hidden",textOverflow:"ellipsis"},expanderWrapper:{display:"none",".ag-grid-expanders-visible &":{display:"block"}},nestLevel:e=>({display:"flex",justifyContent:"flex-end",height:e.spacing.lg})};var _e={name:"gikiyg",styles:"display:flex;justify-content:center;align-items:center;height:32px"};const Se=i.memo((({loadMoreRunsFunc:e})=>(0,h.Y)("div",{css:_e,children:(0,h.Y)(d.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_cells_loadmorerowrenderer.tsx_20",type:"primary",onClick:e,size:"small",children:(0,h.Y)(A.A,{id:"9CqEWy",defaultMessage:"Load more"})})})));var ke={name:"rnnx2x",styles:"font-size:12px"},Te={name:"rnnx2x",styles:"font-size:12px"};const Ae=({datasetWithTags:e,onDatasetSelected:n,appendComma:r=!1,inPopover:o=!1})=>{const{theme:t}=(0,d.u)(),{dataset:i,tags:l}=e;if(!i)return null;const a=null===l||void 0===l?void 0:l.find((({key:e})=>e===u.AS));return(0,h.FD)("div",{css:(0,p.AH)({display:"flex",flexShrink:0,alignItems:"center",overflow:"hidden",marginRight:t.spacing.xs},""),children:[(0,h.Y)(g.TableIcon,{css:(0,p.AH)({color:t.colors.textSecondary,marginRight:t.spacing.xs},"")})," ",(0,h.Y)("span",{css:(0,p.AH)({minWidth:32,marginRight:t.spacing.xs,flexShrink:0},""),title:`${i.name} (${i.digest})`,children:o?(0,h.Y)(d.aw.Close,{asChild:!0,children:(0,h.Y)(d.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_cells_datasetscellrenderer.tsx_49",type:"link",onClick:n,tabIndex:0,children:(0,h.FD)("span",{css:ke,children:[i.name," (",i.digest,")"]})})}):(0,h.Y)(d.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_cells_datasetscellrenderer.tsx_56",type:"link",onClick:n,"data-testid":"open-dataset-drawer",tabIndex:0,children:(0,h.FD)("span",{children:[i.name," (",i.digest,")"]})})}),a&&(0,h.Y)(g.Tag,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_cells_datasetscellrenderer.tsx_75",css:(0,p.AH)({textTransform:"capitalize",marginRight:t.spacing.xs},""),children:(0,h.Y)("span",{css:Te,children:a.value})}),r&&(0,h.Y)(h.FK,{children:","})]})};var Ne={name:"zjik7",styles:"display:flex"},De={name:"eq7f8j",styles:"display:flex;align-items:flex-end"},Ye={name:"h1n7cn",styles:"max-height:400px;overflow:auto"};const Le=i.memo((({value:e,data:n,onDatasetSelected:r,expandRows:o})=>{const t=(0,i.useRef)(null),[l,a]=(0,i.useState)(0),[s,u]=(0,i.useState)(!1),g=(0,i.useMemo)((()=>(e||[]).slice(0,3)),[e]),{theme:m}=(0,d.u)(),f=(e||[]).length;(0,i.useEffect)((()=>{if(!t.current)return()=>{};const e=(0,c.throttle)((([e])=>{if(o){const n=e.contentRect.height;let r=0,o=0;for(let t=0;t<e.target.children.length;t++){const i=e.target.children.item(t);if(o+i.clientHeight>n)break;o+=i.clientHeight,r++}a(r),u(r<f)}else{const n=e.contentRect.width;if(0===n&&f)return a(0),void u(!0);let r=0,o=0;for(let i=0;i<e.target.children.length;i++){const t=e.target.children.item(i);if(o+t.clientWidth>=n)break;o+=t.clientWidth,r++}const t=Math.min(f,r+1);a(t),u(r<f)}}),100),n=new ResizeObserver(e);return n.observe(t.current),()=>n.disconnect()}),[o,f]);const v=f-l;if(!e||f<1)return(0,h.Y)(h.FK,{children:"-"});const y=o?g:e;return(0,h.FD)("div",{css:Ne,children:[(0,h.Y)("div",{css:(0,p.AH)({overflow:"hidden",display:"flex",flexDirection:o?"column":"row"},""),ref:t,children:y.map(((e,t)=>(0,h.Y)(Ae,{appendComma:!o&&t<y.length-1,datasetWithTags:e,onDatasetSelected:()=>null===r||void 0===r?void 0:r(e,n)},`${e.dataset.name}-${e.dataset.digest}`)))}),(v>0||s)&&(0,h.FD)("div",{css:De,children:[!o&&s&&(0,h.Y)("span",{css:(0,p.AH)({paddingLeft:0,paddingRight:m.spacing.xs},""),children:"\u2026"}),v>0&&(0,h.FD)(d.aw.Root,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_cells_datasetscellrenderer.tsx_184",modal:!1,children:[(0,h.Y)(d.aw.Trigger,{asChild:!0,children:(0,h.Y)(d.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_cells_datasetscellrenderer.tsx_172",size:"small",style:{borderRadius:"8px",width:"40px"},tabIndex:0,children:(0,h.FD)(d.T.Text,{color:"secondary",children:["+",v]})})}),(0,h.Y)(d.aw.Content,{align:"start",css:Ye,children:e.slice(f-v).map((e=>(0,h.Y)("div",{css:(0,p.AH)({height:m.general.heightSm,display:"flex",alignItems:"center"},""),children:(0,h.Y)(Ae,{datasetWithTags:e,onDatasetSelected:()=>null===r||void 0===r?void 0:r(e,n),inPopover:!0})},`${e.dataset.name}-${e.dataset.digest}`)))})]})]})]})})),Oe=({event:e})=>"Tab"===e.key&&e.target instanceof HTMLElement&&(e.target.classList.contains("ag-cell")||e.target instanceof HTMLButtonElement),Fe=({value:e,data:n,valueFormatted:r})=>{var o;const{theme:t}=(0,d.u)();return null!==(o=n.groupParentInfo)&&void 0!==o&&o.aggregateFunction?(0,h.FD)(d.T.Text,{children:[null!==r&&void 0!==r?r:e," ",(0,h.FD)("span",{css:(0,p.AH)({color:t.colors.textSecondary},""),children:["(",n.groupParentInfo.aggregateFunction,")"]})]}):e};var Pe=r(49633),He=r(86575);const Ue=({colDef:e,context:n})=>{var r;return n.orderByKey===(null===(r=e.headerComponentParams)||void 0===r?void 0:r.canonicalSortKey)},Be=e=>e?105:73,Ge=e=>`${j.iy}-${e}`,Ve=e=>`${j.Pl}-${e}`,ze=({loading:e,...n})=>(0,d.S)({loading:!1,...n}),Ke=({event:e})=>"Tab"===e.key&&e.target instanceof HTMLElement&&e.target.classList.contains("ag-cell"),qe={[u.T8.USER]:(0,j.GF)(u.RO.ATTRIBUTES,"User"),[u.T8.RUN_NAME]:(0,j.GF)(u.RO.ATTRIBUTES,"Run Name"),[u.T8.SOURCE]:(0,j.GF)(u.RO.ATTRIBUTES,"Source"),[u.T8.VERSION]:(0,j.GF)(u.RO.ATTRIBUTES,"Version"),[u.T8.DESCRIPTION]:(0,j.GF)(u.RO.ATTRIBUTES,"Description")},We=({data:e})=>e.rowUuid,$e=({rowNode:e})=>e.data.isLoadMoreRow,je=(e=!1)=>{const n=[u.qo.USER,u.qo.SOURCE,u.qo.VERSION,u.qo.MODELS,u.qo.DATASET,u.qo.DESCRIPTION];return e&&n.push(u.qo.EXPERIMENT_NAME),n},Ze=({selectedColumns:e,compareExperiments:n,onTogglePin:r,onToggleVisibility:o,onExpand:t,paramKeyList:l,metricKeyList:s,tagKeyList:p,columnApi:g,onDatasetSelected:m,isComparingRuns:h,expandRows:f,runsHiddenMode:v})=>{const{theme:y}=(0,d.u)(),R=(({paramKeyList:e,metricKeyList:n,tagKeyList:r})=>{const o=(0,i.useRef)(new Set),t=(0,i.useRef)(new Set),l=(0,i.useRef)(new Set),a=(0,i.useMemo)((()=>(e.forEach((e=>t.current.add(e))),Array.from(t.current))),[e]),s=(0,i.useMemo)((()=>(n.forEach((e=>o.current.add(e))),Array.from(o.current))),[n]),d=(0,i.useMemo)((()=>(r.forEach((e=>l.current.add(e))),Array.from(l.current))),[r]);return(0,i.useMemo)((()=>({paramKeys:a,metricKeys:s,tagKeys:d})),[s,a,d])})({metricKeyList:s,tagKeyList:p,paramKeyList:l}),C=(0,Pe.Ub)(`(max-width: ${y.responsive.breakpoints.sm}px)`),x=(0,i.useMemo)((()=>{const e=[];e.push({valueGetter:({data:{pinned:e,hidden:n}})=>({pinned:e,hidden:n}),checkboxSelection:!0,headerComponent:"RowActionsHeaderCellRenderer",headerComponentParams:{onToggleVisibility:o},headerCheckboxSelection:!0,headerName:"",cellClass:"is-checkbox-cell",cellRenderer:"RowActionsCellRenderer",cellRendererParams:{onTogglePin:r,onToggleVisibility:o},pinned:C?void 0:"left",minWidth:Be(h),width:Be(h),maxWidth:Be(h),resizable:!1,suppressKeyboardEvent:de});const i=h;if(e.push({headerName:u.qo.RUN_NAME,colId:i?void 0:qe[u.T8.RUN_NAME],headerTooltip:u.T8.RUN_NAME,pinned:C?void 0:"left",sortable:!0,cellRenderer:"RunNameCellRenderer",cellRendererParams:{onExpand:t,isComparingRuns:h},equals:(e,n)=>{var r,o;return(null===e||void 0===e?void 0:e.rowUuid)===(null===n||void 0===n?void 0:n.rowUuid)&&(null===e||void 0===e||null===(r=e.groupParentInfo)||void 0===r?void 0:r.expanderOpen)===(null===n||void 0===n||null===(o=n.groupParentInfo)||void 0===o?void 0:o.expanderOpen)},headerComponentParams:{canonicalSortKey:u.T8.RUN_NAME},cellClassRules:{"is-ordered-by":Ue},initialWidth:i?void 0:190,flex:i?1:void 0,resizable:!h,suppressKeyboardEvent:Ke}),h)return e;e.push({headerName:u.qo.DATE,headerTooltip:u.T8.DATE,pinned:C?void 0:"left",sortable:!0,field:"runDateAndNestInfo",cellRenderer:"DateCellRenderer",cellRendererParams:{onExpand:t},equals:(e,n)=>(0,c.isEqual)(e,n),headerComponentParams:{canonicalSortKey:u.T8.DATE},cellClassRules:{"is-ordered-by":Ue},initialWidth:150}),e.push({headerName:u.qo.DATASET,colId:(0,j.GF)(u.RO.ATTRIBUTES,u.qo.DATASET),headerTooltip:u.qo.DATASET,sortable:!1,field:"datasets",cellRenderer:"DatasetsCellRenderer",cellRendererParams:{onDatasetSelected:m,expandRows:f},cellClass:"is-multiline-cell",initialWidth:300,suppressKeyboardEvent:Oe}),e.push({headerName:u.qo.DURATION,field:"duration",initialWidth:80}),n&&e.push({headerName:u.qo.EXPERIMENT_NAME,colId:(0,j.GF)(u.RO.ATTRIBUTES,u.qo.EXPERIMENT_NAME),field:"experimentName",cellRenderer:"ExperimentNameCellRenderer",equals:(e,n)=>(0,c.isEqual)(e,n),initialWidth:140,initialHide:!0,suppressKeyboardEvent:Ke}),e.push({headerName:u.qo.USER,colId:qe[u.T8.USER],headerTooltip:u.T8.USER,field:"user",sortable:!0,headerComponentParams:{canonicalSortKey:u.T8.USER},cellClassRules:{"is-ordered-by":Ue},initialHide:!0}),e.push({headerName:u.qo.SOURCE,colId:qe[u.T8.SOURCE],field:"tags",cellRenderer:"SourceCellRenderer",equals:(e={},n={})=>a.A.getSourceName(e)===a.A.getSourceName(n),sortable:!0,headerComponentParams:{canonicalSortKey:u.T8.SOURCE},cellClassRules:{"is-ordered-by":Ue},initialHide:!0,suppressKeyboardEvent:Ke}),e.push({headerName:u.qo.VERSION,colId:qe[u.T8.VERSION],field:"version",cellRenderer:"VersionCellRenderer",equals:(e={},n={})=>(0,c.isEqual)(e,n),sortable:!0,headerComponentParams:{canonicalSortKey:u.T8.VERSION},cellClassRules:{"is-ordered-by":Ue},initialHide:!0}),e.push({headerComponent:"ModelsHeaderCellRenderer",colId:(0,j.GF)(u.RO.ATTRIBUTES,u.qo.MODELS),field:"models",cellRenderer:"ModelsCellRenderer",initialWidth:200,equals:(e={},n={})=>(0,c.isEqual)(e,n),initialHide:!0,suppressKeyboardEvent:Ke}),e.push({headerName:u.qo.DESCRIPTION,colId:qe[u.T8.DESCRIPTION],field:"tags",cellRenderer:"RunDescriptionCellRenderer",initialWidth:300,initialHide:!0,sortable:!0,headerComponentParams:{canonicalSortKey:u.T8.DESCRIPTION},cellClassRules:{"is-ordered-by":Ue}});const{metricKeys:l,paramKeys:s,tagKeys:d}=R;return l.length&&e.push({headerName:"Metrics",groupId:u.RO.METRICS,children:l.map((e=>{var n,r;const o=(0,j.GF)(u.RO.METRICS,e),t=He.g[e],i=null!==(n=null===t||void 0===t?void 0:t.displayName)&&void 0!==n?n:e,l=(a=e,`${j.tZ}-${a}`);var a;return{headerName:i,colId:o,headerTooltip:(0,j.$e)(u.RO.METRICS,e),field:l,tooltipValueGetter:e=>{var n;return null===(n=e.data)||void 0===n?void 0:n[l]},initialWidth:null!==(r=null===t||void 0===t?void 0:t.initialColumnWidth)&&void 0!==r?r:100,initialHide:!0,sortable:!0,headerComponentParams:{canonicalSortKey:o},valueFormatter:null===t||void 0===t?void 0:t.valueFormatter,cellRendererSelector:({data:{groupParentInfo:e}})=>e?{component:"AggregateMetricValueCell"}:void 0,cellClassRules:{"is-previewable-cell":()=>!0,"is-ordered-by":Ue}}}))}),s.length&&e.push({headerName:"Parameters",groupId:u.RO.PARAMS,children:s.map((e=>{const n=(0,j.GF)(u.RO.PARAMS,e);return{colId:n,headerName:e,headerTooltip:(0,j.$e)(u.RO.PARAMS,e),field:Ge(e),tooltipField:Ge(e),initialHide:!0,initialWidth:100,sortable:!0,headerComponentParams:{canonicalSortKey:n},cellClassRules:{"is-previewable-cell":()=>!0,"is-ordered-by":Ue}}}))}),d.length&&e.push({headerName:"Tags",colId:u.RO.TAGS,children:d.map((e=>({colId:(0,j.GF)(u.RO.TAGS,e),headerName:e,initialHide:!0,initialWidth:100,headerTooltip:(0,j.$e)(u.RO.TAGS,e),field:Ve(e),tooltipField:Ve(e)})))}),e}),[r,o,t,n,R,h,m,f,C]),E=(0,i.useMemo)((()=>[...je(!0).map((e=>(0,j.GF)(u.RO.ATTRIBUTES,e))),...R.paramKeys.map((e=>(0,j.GF)(u.RO.PARAMS,e))),...R.metricKeys.map((e=>(0,j.GF)(u.RO.METRICS,e))),...R.tagKeys.map((e=>(0,j.GF)(u.RO.TAGS,e)))]),[R]);return(0,i.useEffect)((()=>{if(g&&!h)for(const n of E){const r=e.includes(n);g.setColumnVisible(n,r)}}),[e,g,E,h]),x},Qe={initialWidth:100,autoSizePadding:0,headerComponentParams:{menuIcon:"fa-bars"},resizable:!0,filter:!0,suppressMenu:!0,suppressMovable:!0};var Je=r(24523);const Xe=({isFiltered:e,onClearFilters:n})=>(0,h.Y)("div",{css:en.noResultsWrapper,children:(0,h.Y)("div",{css:en.noResults,children:e?(0,h.Y)(g.Empty,{button:(0,h.Y)(d.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_experimentviewrunsemptytable.tsx_35",type:"primary",onClick:n,children:(0,h.Y)(A.A,{id:"pEpexK",defaultMessage:"Clear filters"})}),description:(0,h.Y)(A.A,{id:"Nnsm0p",defaultMessage:"All runs in this experiment have been filtered. Change or clear filters to view runs."}),title:(0,h.Y)(A.A,{id:"Tl63jz",defaultMessage:"All runs are filtered"}),image:(0,h.Y)(g.FilterIcon,{})}):(0,h.Y)(g.Empty,{description:(0,h.Y)(A.A,{id:"coo35p",defaultMessage:"No runs have been logged yet. <link>Learn more</link> about how to create ML model training runs in this experiment.",values:{link:e=>(0,h.Y)("a",{target:"_blank",href:Je.XO,rel:"noreferrer",children:e})}}),title:(0,h.Y)(A.A,{id:"sByLVU",defaultMessage:"No runs logged"}),image:(0,h.Y)(g.BeakerIcon,{})})})}),en={noResults:{maxWidth:360},noResultsWrapper:e=>({marginTop:e.spacing.lg,inset:0,backgroundColor:e.colors.backgroundPrimary,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"})},nn="is-out-of-viewport",rn="is-hidden",on="is-minimized",tn=".ag-root",ln=".ag-pinned-left-cols-container",an=".ag-center-cols-container",sn=".ag-header",dn=".ag-body-viewport",cn=({onClick:e,gridContainerElement:n,isInitialized:r,visible:o,moreRunsAvailable:t,moreAvailableRunsTableColumnCount:l=0})=>{const a=(0,i.useRef)(null),s=(0,i.useRef)(),c=(0,i.useRef)(Boolean(t));(0,i.useEffect)((()=>{c.current=Boolean(t)}),[t]);const u=(0,i.useCallback)((e=>{if(!a.current||!window.ResizeObserver||!e)return;const n=a.current,r=e.querySelector(tn),o=e.querySelector(ln),t=e.querySelector(an),i=e.querySelector(sn),l=e.querySelector(dn);let d=0,u=0,p=0,g=0,m=0,h=0;if(o&&t&&i&&r&&l){const e=new ResizeObserver((e=>{var a,f,v,y;for(const n of e)n.target===r&&(d=n.contentRect.width),n.target===o&&(u=n.contentRect.width,p=n.contentRect.height),n.target===l&&(m=n.contentRect.height),n.target===i&&(h=n.contentRect.height),n.target===t&&(g=n.contentRect.width);const R=u+g,C=h;R+180>=d?null===(a=s.current)||void 0===a||a.classList.add(nn):null===(f=s.current)||void 0===f||f.classList.remove(nn);const x=c.current?32:0,E=p<m?p-x:m;E<100?null===(v=s.current)||void 0===v||v.classList.add(on):null===(y=s.current)||void 0===y||y.classList.remove(on),n.style.transform=`translate3d(${R}px, ${C}px, 0)`,n.style.height=`${E+1}px`}));return e.observe(o),e.observe(t),e.observe(i),e.observe(r),e.observe(l),()=>e.disconnect()}}),[]);return(0,i.useEffect)((()=>{r&&n&&(s.current=n,u(n))}),[u,r,n]),window.ResizeObserver?(0,h.Y)("div",{ref:a,css:un.columnContainer,className:o?"":rn,children:o&&(0,h.Y)("div",{css:un.buttonContainer,children:(0,h.FD)(d.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_experimentviewrunstableaddcolumncta.tsx_218",css:un.button,type:"link",onClick:e,children:[(0,h.Y)(g.PlusCircleIcon,{css:un.buttonIcon}),(0,h.Y)("div",{css:un.caption,children:(0,h.Y)(A.A,{id:"npHb2a",defaultMessage:"Show more columns {count, select, 0 {} other {({count} total)}}",values:{count:l}})})]})})}):null},un={columnContainer:e=>({width:180,height:0,position:"absolute",border:`1px solid ${e.colors.borderDecorative}`,borderTop:0,top:0,left:0,willChange:"transform",transform:"translate3d(0, 0, 0)",[`.${on} &`]:{display:"flex",alignItems:"center"},[`&.${rn}, .${nn} &`]:{display:"none"},pointerEvents:"none",display:"flex",alignItems:"center"}),buttonContainer:e=>({top:0,paddingLeft:e.spacing.lg,paddingRight:e.spacing.lg,width:"100%",[`.${on} &`]:{paddingTop:e.spacing.xs},pointerEvents:"all"}),button:{whiteSpace:"pre-wrap",width:"100%"},buttonIcon:e=>({color:e.colors.textSecondary}),caption:e=>({color:e.colors.textSecondary,[`.${on} &`]:{display:"none"}})},pn=e=>(0,h.Y)("strong",{children:e}),gn=({isLoading:e,allRunsCount:n})=>(0,h.FD)("div",{css:mn.statusBar,children:[(0,h.Y)(d.T.Text,{size:"sm",color:e?"secondary":void 0,children:(0,h.Y)(A.A,{id:"gLj8lU",defaultMessage:"<strong>{length}</strong> matching {length, plural, =0 {runs} =1 {run} other {runs}}",values:{strong:pn,length:n}})}),e&&(0,h.Y)(d.S,{size:"small"})]}),mn={statusBar:e=>({height:28,display:"flex",gap:8,marginTop:-1,position:"relative",alignItems:"center",borderTop:`1px solid ${e.colors.border}`})};var hn=r(30167),fn=r(46441);const vn=(e,n,r)=>{r.forEachNode((r=>{var o;if(null!==(o=r.data)&&void 0!==o&&o.isLoadMoreRow)return;const{runInfo:t,runDateAndNestInfo:i}=r.data;if(!t)return;const l=t.runUuid;e.includes(l)&&(null!==i&&void 0!==i&&i.childrenIds&&e.push(...i.childrenIds),r.setSelected(n,!1,!0))}))};var yn=r(29944),Rn=r(91586);var Cn={name:"yqjhl6",styles:"display:flex;flex-direction:column;position:relative"};const xn=i.memo((({experiments:e,searchFacetsState:n,runsData:r,isLoading:o,moreRunsAvailable:p,updateViewState:f,onAddColumnClicked:y,rowsData:R,loadMoreRunsFunc:x,onDatasetSelected:E,expandRows:b,viewState:I,uiState:w,compareRunsMode:_})=>{const{theme:k}=(0,d.u)(),T=(0,J.e)(),N=(0,m.Px)(),{orderByKey:D,orderByAsc:L}=n,{selectedColumns:O,runsPinned:F,runsHidden:P,runListHidden:H}=w,U="TABLE"!==_,B=(0,i.useMemo)((()=>{const e=a.A.getVisibleTagKeyList(r.tagsList).length;return r.metricKeyList.length+r.paramKeyList.length+e>1e3}),[r]),{paramKeyList:G,metricKeyList:V,tagsList:z}=r,{filteredMetricKeyList:Z,filteredParamKeyList:Q,filteredTagsList:X}=(0,i.useMemo)((()=>{if(B&&!U){const e=[],n=[],r=[];for(const o of O)if(o.startsWith(u.RO.METRICS))e.push((0,j.dz)(o,u.RO.METRICS));else if(o.startsWith(u.RO.PARAMS))n.push((0,j.dz)(o,u.RO.PARAMS));else if(o.startsWith(u.RO.TAGS)){const e=(0,j.dz)(o,u.RO.TAGS);r.push({[e]:{key:e,value:null}})}return{filteredMetricKeyList:e,filteredParamKeyList:n,filteredTagsList:r}}return{filteredMetricKeyList:V,filteredParamKeyList:G,filteredTagsList:z}}),[O,B,U,V,G,z]),[ee,ne]=(0,i.useState)(),[re,oe]=(0,i.useState)(),te=((0,i.useRef)([]),(0,i.useMemo)((()=>a.A.getVisibleTagKeyList(X)),[X])),le=(0,i.useRef)(null),ae=(0,i.useMemo)((()=>R.some((e=>{var n;return null===(n=e.runDateAndNestInfo)||void 0===n?void 0:n.hasExpander}))),[R]),de=(0,i.useCallback)((e=>T((({runsExpanded:n,...r})=>({...r,runsExpanded:{...n,[e]:!n[e]}})))),[T]),ce=(0,i.useCallback)((e=>{T((n=>({...n,runsPinned:n.runsPinned.includes(e)?n.runsPinned.filter((n=>n!==e)):[...n.runsPinned,e]})))}),[T]),ue=(0,yn.v)(R,w.useGroupedValuesInCharts),pe=(0,i.useCallback)((e=>{ne(e.api),oe(e.columnApi)}),[]),{handleRowSelected:me,onSelectionChange:he}=(e=>{const n=(0,i.useCallback)((({api:n})=>{const r=n.getSelectedRows().filter((e=>e.runInfo)).map((({runInfo:e})=>e.runUuid));e({runsSelected:r.reduce(((e,n)=>({...e,[n]:!0})),{})})}),[e]);return{handleRowSelected:(0,i.useCallback)((e=>{const n=Boolean(e.node.isSelected()),{runDateAndNestInfo:r,runInfo:o,groupParentInfo:t}=e.data;if(t&&vn(t.runUuids,n,e.api),!r)return;const{isParent:i,expanderOpen:l,childrenIds:a}=r;if(i&&l&&a)vn(a,n,e.api);else if(o){vn([o.runUuid],n,e.api);const r=(0,c.uniqBy)(e.api.getSelectedRows().filter((e=>Boolean(e.runUuid))),"runUuid");s=r,e.api.forEachNode((e=>{const n=e.data;n.groupParentInfo&&(n.groupParentInfo.runUuids.every((e=>s.some((n=>n.runUuid===e))))&&e.setSelected(!0,!1,!0),n.groupParentInfo.runUuids.some((e=>s.some((n=>n.runUuid===e))))||e.setSelected(!1,!1,!0))}))}var s}),[]),onSelectionChange:n}})(f),fe=(0,i.useMemo)((()=>(0,Y.Rn)()?R.every((e=>e.hidden)):r.runInfos.every((({runUuid:e})=>P.includes(e)))),[r,R,P]),ve=(0,Y.Rn)()&&!(0,c.isEmpty)(w.runsVisibilityMap),ye=Ze({selectedColumns:O,onExpand:de,compareExperiments:e.length>1,onTogglePin:ce,onToggleVisibility:ue,metricKeyList:Z,paramKeyList:Q,tagKeyList:te,columnApi:re,isComparingRuns:U,onDatasetSelected:E,expandRows:b,runsHiddenMode:w.runsHiddenMode}),Re=(0,i.useCallback)((e=>{if(e&&U)try{e.sizeColumnsToFit()}catch{}}),[U]);(0,i.useEffect)((()=>{if(ee)if(o)ee.showLoadingOverlay();else{if(ee.hideOverlay(),R.length&&p)return ee.setRowData([...R,{runUuid:"",rowUuid:(0,c.uniqueId)("load_more"),isLoadMoreRow:!0}]),void Re(ee);ee.setRowData(R),Re(ee)}}),[ee,R,o,p,x,Re]);const Ce=(0,i.useMemo)((()=>je(e.length>1).length+(V.length+G.length+te.length)),[e.length,te.length,V.length,G.length]),xe=O.length>=Ce,Ee=Math.max(0,Ce-O.length),be=(0,i.useMemo)((()=>r.runInfos.filter((e=>F.includes(e.runUuid)||r.runUuidsMatchingFilter.includes(e.runUuid))).length),[r,F]);(0,i.useLayoutEffect)((()=>{ee&&(U&&(ee.deselectAll(),ee.sizeColumnsToFit()),ee.resetRowHeights())}),[ee,U]);const Ie=(0,i.useCallback)((e=>{if(U||!b)return j.Fc;const n=(0,j.GF)(u.RO.ATTRIBUTES,u.qo.DATASET);return((e,n)=>{if(e){var r;const{data:e}=n,o=Math.min((null===(r=e.datasets)||void 0===r?void 0:r.length)||1,3);return j.Fc*o}return j.Fc})(O.includes(n),e)}),[O,U,b]);(0,i.useEffect)((()=>{null===ee||void 0===ee||ee.resetRowHeights()}),[ee,O,b]);const[we,_e]=(0,i.useState)(null),ke=(0,i.useCallback)((({column:e,data:n,value:r})=>{var o;const t=null===(o=e.getParent())||void 0===o?void 0:o.getGroupId();(t===u.RO.METRICS||t===u.RO.PARAMS)&&(_e({value:r,header:`Run name: ${n.runName}, Column name: ${e.getColDef().headerTooltip}`}),f({previewPaneVisible:!0}))}),[f]),Te=!xe&&!U&&R.length>0,Ae=!U&&I.previewPaneVisible,Ne=!H||!U,De=!H,Ye=R.length<1&&!o&&Ne,Oe=(0,i.useMemo)((()=>({orderByAsc:L,orderByKey:D})),[L,D]),{cellMouseOverHandler:Pe,cellMouseOutHandler:He}=(0,Rn._)(le),Ue=bn();return(0,h.FD)("div",{css:e=>({display:"grid",flex:1,gridTemplateColumns:Ae?"1fr auto":"1fr",borderTop:`1px solid ${e.colors.border}`}),className:U?"is-table-comparing-runs-mode":void 0,children:[(0,h.FD)("div",{css:Cn,children:[(0,h.FD)("div",{ref:le,className:t()("ag-theme-balham ag-grid-sticky",{"ag-grid-expanders-visible":ae,"is-table-comparing-runs-mode":U}),css:[Ue,{display:Ne?"block":"hidden",height:"100%"},""],"aria-hidden":!Ne,children:[(0,h.Y)(ie,{runsHiddenMode:w.runsHiddenMode,usingCustomVisibility:ve,useGroupedValuesInCharts:Boolean(w.groupBy)&&w.useGroupedValuesInCharts,allRunsHidden:fe,children:(0,h.Y)(l.p,{context:Oe,defaultColDef:Qe,columnDefs:ye,rowSelection:"multiple",onGridReady:pe,onSelectionChanged:he,getRowHeight:Ie,headerHeight:j.Fc,onRowSelected:me,suppressRowClickSelection:!0,suppressColumnMoveAnimation:!0,suppressScrollOnNewData:!0,isFullWidthRow:$e,fullWidthCellRenderer:"LoadMoreRowRenderer",fullWidthCellRendererParams:{loadMoreRunsFunc:x},suppressFieldDotNotation:!0,enableCellTextSelection:!0,components:{agColumnHeader:v,loadingOverlayComponent:ze,LoadMoreRowRenderer:Se,SourceCellRenderer:W.t,ModelsCellRenderer:K,ModelsHeaderCellRenderer:q,VersionCellRenderer:$,DateCellRenderer:C,ExperimentNameCellRenderer:S,RunDescriptionCellRenderer:M,RowActionsCellRenderer:se,RowActionsHeaderCellRenderer:ge,RunNameCellRenderer:Me,DatasetsCellRenderer:Le,AggregateMetricValueCell:Fe},suppressNoRowsOverlay:!0,loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentParams:{showImmediately:!0},getRowId:We,rowBuffer:101,onCellClicked:ke,onGridSizeChanged:({api:e})=>Re(e),onCellMouseOver:Pe,onCellMouseOut:He,maxBlocksInCache:20,cacheBlockSize:100,maxConcurrentDatasourceRequests:2,immutableData:!0,getRowNodeId:e=>e.rowUuid,suppressPropertyNamesCheck:!0,suppressAnimationFrame:!0})}),Te&&(0,h.Y)(cn,{gridContainerElement:le.current,isInitialized:Boolean(ee),onClick:y,visible:!o,moreRunsAvailable:p,moreAvailableRunsTableColumnCount:Ee})]}),Ye&&(0,h.Y)(Xe,{onClearFilters:()=>{N((0,fn.G)())},isFiltered:(0,s.e9)(n)}),De&&(0,h.Y)(gn,{allRunsCount:be,isLoading:o})]}),Ae&&(0,h.Y)(hn.V,{content:null===we||void 0===we?void 0:we.value,copyText:null===we||void 0===we?void 0:we.value,headerText:null===we||void 0===we?void 0:we.header,onClose:()=>f({previewPaneVisible:!1}),empty:(0,h.Y)(g.Empty,{description:(0,h.Y)(A.A,{id:"cAKSkQ",defaultMessage:"Select a cell to display preview"})})})]})})),En=(e,n=!0)=>{const r=(e=>({rowForeground:e.colors.textPrimary,rowBackground:e.colors.backgroundPrimary,rowBackgroundHover:e.colors.tableBackgroundUnselectedHover,rowBackgroundSelected:e.colors.tableBackgroundSelectedDefault,rowBackgroundHoverSelected:e.colors.tableBackgroundSelectedHover,columnSortedBy:`${e.colors.blue400}1F`,headerBackground:e.colors.backgroundSecondary,headerTextColor:e.colors.textSecondary,headerGroupTextColor:e.colors.textSecondary,borderColor:e.colors.borderDecorative,headerBorderColor:"transparent",checkboxBorderColor:e.colors.actionDefaultBorderDefault,checkboxBorderColorChecked:e.colors.backgroundPrimary,checkboxBackgroundColorChecked:e.colors.actionPrimaryBackgroundDefault,overlayBackground:`${e.colors.backgroundSecondary}99`}))(e);return{height:"100%",position:"relative","&.ag-theme-balham":{"--ag-border-color":r.borderColor,"--ag-row-border-color":r.borderColor,"--ag-foreground-color":r.rowForeground,"--ag-background-color":r.rowBackground,"--ag-odd-row-background-color":r.rowBackground,"--ag-row-hover-color":r.rowBackgroundHover,"--ag-selected-row-background-color":r.rowBackgroundSelected,"--ag-header-foreground-color":r.headerTextColor,"--ag-header-background-color":r.headerBackground,"--ag-modal-overlay-background-color":r.overlayBackground,"&.ag-grid-sticky .ag-header":{position:"sticky",top:0,zIndex:1},"&.ag-grid-sticky .ag-root":{overflow:"visible"},"&.ag-grid-sticky .ag-root-wrapper":{border:"0",borderRadius:"4px",overflow:"visible"},".is-table-comparing-runs-mode & .ag-body-horizontal-scroll.ag-scrollbar-invisible":{display:"none"},".ag-header::after":{content:'""',position:"absolute",top:j.Fc,left:0,right:0,height:1,backgroundColor:r.borderColor},".ag-cell":{display:"flex",overflow:"hidden","& > .ag-cell-wrapper":{overflow:"hidden"}},".ag-header-cell":n?{padding:0}:void 0,".ag-header-cell .ag-checkbox":n?{padding:"0 7px",borderLeft:"1px solid transparent"}:void 0,".ag-cell.is-ordered-by, .ag-header-cell > .is-ordered-by":{backgroundColor:r.columnSortedBy},".ag-header-row":{"--ag-border-color":r.headerBorderColor},".ag-header-row.ag-header-row-column-group":{"--ag-header-foreground-color":r.headerGroupTextColor},".ag-row.ag-row-selected.ag-row-hover":{backgroundColor:r.rowBackgroundHoverSelected},".ag-row.is-highlighted":{backgroundColor:r.rowBackgroundHoverSelected},".ag-header:not(:hover) .ag-header-cell::after, .ag-header:not(:hover) .ag-header-group-cell::after":{opacity:0},".ag-pinned-left-header":{borderRight:"none"},".ag-overlay-loading-wrapper":{paddingTop:4*e.spacing.md,alignItems:"center",zIndex:2},".ag-overlay-loading-wrapper .ag-react-container":{flex:1},".ag-center-cols-container":{minHeight:0},".ag-full-width-row":{borderBottom:0,backgroundColor:"transparent",zIndex:1,"&.ag-row-hover":{backgroundColor:"transparent"}},".is-checkbox-cell":{display:"flex",alignItems:"center",paddingLeft:7,".is-multiline-cell .ag-cell-value":{height:"100%"}},".is-previewable-cell":{cursor:"pointer"},".ag-header-cell .ag-checkbox .ag-input-wrapper:not(.ag-indeterminate):not(.ag-checked)":{"--ag-checkbox-background-color":r.headerBackground},".ag-cell-wrapper .ag-selection-checkbox":{marginRight:20},".is-checkbox-cell, .ag-header-cell .ag-checkbox":{".ag-checkbox-input-wrapper::after":{color:r.checkboxBorderColor},".ag-checkbox-input-wrapper.ag-checked":{"--ag-checkbox-background-color":r.checkboxBackgroundColorChecked,"--ag-checkbox-checked-color":r.checkboxBorderColorChecked,"&::after":{color:r.checkboxBorderColorChecked}}}}}},bn=({usingCustomHeaderComponent:e=!0}={})=>{const{theme:n}=(0,d.u)();return(0,i.useMemo)((()=>En(n,e)),[n,e])}},91586:function(e,n,r){r.d(n,{_:function(){return i}});var o=r(46709),t=r(64865);const i=(e,n="is-highlighted",r=!1,i)=>{const{onHighlightChange:l,highlightDataTrace:a}=(0,t.ZY)(),s=(0,o.useCallback)(((o,i)=>{var l,a;const s=null===(l=e.current)||void 0===l?void 0:l.querySelector(`.${n}`),d=r?".ag-center-cols-viewport":"",c=null===(a=e.current)||void 0===a?void 0:a.querySelector(`${d} .ag-row[row-id="${o}"]`);s&&s!==c&&s.classList.remove(n),i!==t.WF.TABLE&&c&&c.classList.add(n)}),[e,n,r]);(0,o.useEffect)((()=>l(s)),[s,l]);return{cellMouseOverHandler:(0,o.useCallback)((({data:e})=>{const n="object"===typeof e&&"groupParentInfo"in e,r=i?i({data:e}):n?e.rowUuid:e.runUuid;a(r,{source:t.WF.TABLE})}),[a,i]),cellMouseOutHandler:(0,o.useCallback)((()=>a(null)),[a])}}},91944:function(e,n,r){r.d(n,{$g:function(){return p},BH:function(){return l},UI:function(){return c},bf:function(){return u},kk:function(){return i},q5:function(){return d},qp:function(){return s},uk:function(){return a}});var o=r(44105),t=r(77680);const i="mlflow.experimentKind",l=e=>{var n;return null===e||void 0===e||null===(n=e.find((e=>e.key===i)))||void 0===n?void 0:n.value},a=e=>e===o.Gk.GENAI_DEVELOPMENT_INFERRED||e===o.Gk.CUSTOM_MODEL_DEVELOPMENT_INFERRED||e===o.Gk.NO_INFERRED_TYPE||e===o.Gk.GENAI_DEVELOPMENT||e===o.Gk.CUSTOM_MODEL_DEVELOPMENT||e===o.Gk.EMPTY,s=e=>e===o.Gk.GENAI_DEVELOPMENT||e===o.Gk.GENAI_DEVELOPMENT_INFERRED,d=e=>e===o.Gk.GENAI_DEVELOPMENT_INFERRED?o.Gk.GENAI_DEVELOPMENT:e===o.Gk.CUSTOM_MODEL_DEVELOPMENT_INFERRED?o.Gk.CUSTOM_MODEL_DEVELOPMENT:e,c={[o.Gk.GENAI_DEVELOPMENT]:(0,t.zR)({id:"PewjIJ",defaultMessage:"GenAI apps & agents"}),[o.Gk.CUSTOM_MODEL_DEVELOPMENT]:(0,t.zR)({id:"nF10K1",defaultMessage:"Machine learning"}),[o.Gk.GENAI_DEVELOPMENT_INFERRED]:(0,t.zR)({id:"ACNZd9",defaultMessage:"GenAI apps & agents"}),[o.Gk.CUSTOM_MODEL_DEVELOPMENT_INFERRED]:(0,t.zR)({id:"NUjE6C",defaultMessage:"Machine learning"}),[o.Gk.NO_INFERRED_TYPE]:(0,t.zR)({id:"qr7dhT",defaultMessage:"None"}),[o.Gk.FINETUNING]:(0,t.zR)({id:"G4x6G7",defaultMessage:"Finetuning"}),[o.Gk.REGRESSION]:(0,t.zR)({id:"OWfx/j",defaultMessage:"Regression"}),[o.Gk.CLASSIFICATION]:(0,t.zR)({id:"P/Uvf4",defaultMessage:"Classification"}),[o.Gk.FORECASTING]:(0,t.zR)({id:"qDiJI2",defaultMessage:"Forecasting"}),[o.Gk.AUTOML]:(0,t.zR)({id:"wZtuCR",defaultMessage:"AutoML"}),[o.Gk.EMPTY]:(0,t.zR)({id:"0z0lH2",defaultMessage:"None"})},u={[o.Gk.GENAI_DEVELOPMENT]:(0,t.zR)({id:"Fg/zU/",defaultMessage:"GenAI apps & agents"}),[o.Gk.CUSTOM_MODEL_DEVELOPMENT]:(0,t.zR)({id:"T/46y0",defaultMessage:"Machine learning"}),[o.Gk.GENAI_DEVELOPMENT_INFERRED]:(0,t.zR)({id:"CPO2ro",defaultMessage:"GenAI apps & agents"}),[o.Gk.CUSTOM_MODEL_DEVELOPMENT_INFERRED]:(0,t.zR)({id:"KYJxmN",defaultMessage:"Machine learning"}),[o.Gk.NO_INFERRED_TYPE]:(0,t.zR)({id:"jTqRO+",defaultMessage:"None"}),[o.Gk.FINETUNING]:(0,t.zR)({id:"61P6Da",defaultMessage:"finetuning"}),[o.Gk.REGRESSION]:(0,t.zR)({id:"W60/kq",defaultMessage:"regression"}),[o.Gk.CLASSIFICATION]:(0,t.zR)({id:"KwAeyt",defaultMessage:"classification"}),[o.Gk.FORECASTING]:(0,t.zR)({id:"VwxvII",defaultMessage:"forecasting"}),[o.Gk.AUTOML]:(0,t.zR)({id:"lFnpMi",defaultMessage:"AutoML"}),[o.Gk.EMPTY]:(0,t.zR)({id:"+khKtf",defaultMessage:"None"})},p=()=>[o.Gk.GENAI_DEVELOPMENT,o.Gk.CUSTOM_MODEL_DEVELOPMENT]},92550:function(e,n,r){r.d(n,{e:function(){return a}});var o=r(96584),t=r(76118),i=r(61077),l=r(46709);const a=({experimentIds:e,orderByAsc:n,orderByField:r,searchQuery:a,selectedFilterDatasets:s,orderByDatasetName:d,orderByDatasetDigest:c},{enabled:u=!0}={})=>{var p;const g=["SEARCH_LOGGED_MODELS",JSON.stringify(e),r,n,a,JSON.stringify(s),d,c],{data:m,isLoading:h,isFetching:f,fetchNextPage:v,refetch:y,error:R}=(0,o.q)({queryKey:g,queryFn:async({pageParam:o})=>{const l={experiment_ids:e,order_by:[{field_name:null!==r&&void 0!==r?r:"creation_time",ascending:null!==n&&void 0!==n&&n,dataset_name:d,dataset_digest:c}],page_token:o,filter:a,datasets:(0,t.isEmpty)(s)?void 0:s};return(0,i.ff)((0,i.we)("ajax-api/2.0/mlflow/logged-models/search"),"POST",l)},cacheTime:0,getNextPageParam:e=>e.next_page_token,refetchOnWindowFocus:!1,retry:!1,enabled:u});return{isLoading:h,isFetching:f,data:(0,l.useMemo)((()=>null===m||void 0===m?void 0:m.pages.flatMap((e=>null===e||void 0===e?void 0:e.models)).filter(Boolean)),[m]),nextPageToken:null===(p=(0,t.last)(null===m||void 0===m?void 0:m.pages))||void 0===p?void 0:p.next_page_token,refetch:y,error:R,loadMoreResults:v}}},96980:function(e,n,r){r.d(n,{f:function(){return o}});const o=e=>Boolean(e.match(/^[^. /]+\.[^. /]+\.[^. /]+$/))}}]);
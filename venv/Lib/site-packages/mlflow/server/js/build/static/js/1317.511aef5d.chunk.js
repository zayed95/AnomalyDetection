"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[1317],{8750:function(e,l,n){n.d(l,{s:function(){return r}});var i=n(46709),o=n(76118),t=n(60062),a=n(12803);const d=e=>["USE_RELATED_RUNS_DATA_FOR_LOGGED_MODELS",{runUuid:e}],s=async({queryKey:[,{runUuid:e}]})=>{try{const l=await a.x.getRun({run_id:e});return null===l||void 0===l?void 0:l.run}catch(l){return null}},r=({loggedModels:e=[]})=>{var l;const n=(0,i.useMemo)((()=>{const l=(0,o.compact)(null===e||void 0===e?void 0:e.flatMap((e=>{var l,n;return null===e||void 0===e||null===(l=e.data)||void 0===l||null===(n=l.metrics)||void 0===n?void 0:n.map((e=>e.run_id))}))),n=(0,o.compact)(null===e||void 0===e?void 0:e.map((e=>{var l;return null===e||void 0===e||null===(l=e.info)||void 0===l?void 0:l.source_run_id})));return(0,o.sortBy)((0,o.uniq)([...l,...n]))}),[e]),a=(0,t.E)({queries:n.map((e=>({queryKey:d(e),queryFn:s,cacheTime:1/0,staleTime:1/0,refetchOnWindowFocus:!1,retry:!1})))}),r=a.some((({isLoading:e})=>e)),u=null===(l=a.find((({error:e})=>e)))||void 0===l?void 0:l.error,c=function(e){const l=(0,i.useRef)(),n=!(!l.current||e.length!==l.current.length)&&e.every(((e,n)=>{var i;return e===(null===(i=l.current)||void 0===i?void 0:i[n])}));return n||(l.current=e),n&&l.current?l.current:e}(a.map((({data:e})=>e)));return{data:(0,i.useMemo)((()=>c.map((e=>e)).filter(Boolean)),[c]),loading:r,error:u}}},10165:function(e,l,n){n.d(l,{h:function(){return c}});var i,o,t,a,d,s=n(46709);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var l=1;l<arguments.length;l++){var n=arguments[l];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r.apply(null,arguments)}function u({title:e,titleId:l,...n},u){return s.createElement("svg",r({width:19,height:16,viewBox:"0 0 19 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:u,"aria-labelledby":l},n),e?s.createElement("title",{id:l},e):null,s.createElement("g",{clipPath:"url(#clip0_0_3)"},s.createElement("mask",{id:"mask0_0_3",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:0,y:0,width:16,height:16},i||(i=s.createElement("path",{d:"M16 0H0V16H16V0Z",fill:"white"}))),o||(o=s.createElement("g",{mask:"url(#mask0_0_3)"},s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.75 3.49999C2.05964 3.49999 1.5 4.05963 1.5 4.74999C1.5 5.44034 2.05964 5.99999 2.75 5.99999C3.44036 5.99999 4 5.44034 4 4.74999C4 4.05963 3.44036 3.49999 2.75 3.49999ZM0 4.74999C0 3.2312 1.23122 1.99999 2.75 1.99999C3.77682 1.99999 4.6722 2.56276 5.14452 3.39669L9.51655 2.44626C9.66772 1.0704 10.8338 0 12.25 0C13.7688 0 15 1.23122 15 2.75C15 3.87686 14.3222 4.84541 13.3521 5.27025L13.6341 7.52661C14.9711 7.71349 16 8.86158 16 10.25C16 11.7688 14.7687 13 13.25 13C12.3895 13 11.6214 12.6048 11.1172 11.9861L8.49749 13.1322C8.49913 13.1713 8.49997 13.2105 8.49997 13.25C8.49996 14.7688 7.26875 16 5.74997 16C4.23118 16 2.99997 14.7688 2.99996 13.25C2.99997 12.3569 3.42568 11.5633 4.08524 11.0609L3.01322 7.48755C2.92659 7.49578 2.83878 7.49999 2.75 7.49999C1.23122 7.49999 0 6.26877 0 4.74999ZM5.46534 5.18782C5.48277 5.07884 5.4938 4.96773 5.49804 4.85488L9.76409 3.92748C10.1528 4.74671 10.9346 5.34321 11.8658 5.47338L12.1478 7.72974C11.7709 7.89483 11.438 8.14204 11.1719 8.44873L5.46534 5.18782ZM4.82802 6.55126C4.70399 6.69422 4.56546 6.82424 4.41471 6.93906L5.48674 10.5124C5.57337 10.5042 5.66118 10.5 5.74997 10.5C6.69483 10.5 7.52839 10.9765 8.02345 11.7023L10.5231 10.6087C10.5079 10.4913 10.5 10.3716 10.5 10.25C10.5 10.101 10.5118 9.95475 10.5346 9.81218L4.82802 6.55126ZM12 10.25C12 9.55963 12.5596 8.99999 13.25 8.99999C13.9403 8.99999 14.5 9.55963 14.5 10.25C14.5 10.9403 13.9403 11.5 13.25 11.5C12.5596 11.5 12 10.9403 12 10.25ZM5.74997 12C5.05961 12 4.49997 12.5596 4.49997 13.25C4.49997 13.9403 5.05961 14.5 5.74997 14.5C6.44032 14.5 6.99997 13.9403 6.99997 13.25C6.99997 12.5596 6.44032 12 5.74997 12ZM11 2.75C11 2.05964 11.5596 1.5 12.25 1.5C12.9403 1.5 13.5 2.05964 13.5 2.75C13.5 3.44036 12.9403 4 12.25 4C11.5596 4 11 3.44036 11 2.75Z",fill:"currentColor"}))),t||(t=s.createElement("path",{d:"M13.5 14C15.433 14 17 12.433 17 10.5C17 8.567 15.433 7 13.5 7C11.567 7 10 8.567 10 10.5C10 12.433 11.567 14 13.5 14Z",fill:"white"})),a||(a=s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.125 11C11.125 9.41218 12.4122 8.125 14 8.125C15.5878 8.125 16.875 9.41218 16.875 11C16.875 12.5878 15.5878 13.875 14 13.875C12.4122 13.875 11.125 12.5878 11.125 11ZM14 6.625C11.5838 6.625 9.625 8.58375 9.625 11C9.625 13.4162 11.5838 15.375 14 15.375C16.4162 15.375 18.375 13.4162 18.375 11C18.375 8.58375 16.4162 6.625 14 6.625ZM14.0303 12.5303L16.0303 10.5303L14.9697 9.46967L13.5 10.9393L13.0303 10.4697L11.9697 11.5303L12.9697 12.5303L13.5 13.0607L14.0303 12.5303Z",fill:"#3BA65E"}))),d||(d=s.createElement("defs",null,s.createElement("clipPath",{id:"clip0_0_3"},s.createElement("rect",{width:19,height:16,fill:"white"})))))}const c=s.forwardRef(u);n.p},20980:function(e,l,n){n.d(l,{b:function(){return r}});var i=n(46709),o=n(60062),t=n(91105),a=n(96980);const d=(e,l)=>`/explore/data/models/${e.replace(/\./g,"/")}/version/${l}`,s=(e,l)=>(0,t.Oz)(`/models/${e}/versions/${l}`),r=({loggedModels:e,checkAcl:l=!1})=>{const{modelVersions:n,ucModels:t}=(0,i.useMemo)((()=>{const l=e.flatMap((e=>{var l;const n=null!==(l=(e=>{try{var l,n,i;const o=null===(l=e.info)||void 0===l||null===(n=l.tags)||void 0===n||null===(i=n.find((e=>"mlflow.modelVersions"===e.key)))||void 0===i?void 0:i.value;if(o)return JSON.parse(o)}catch(o){return null}return null})(e))&&void 0!==l?l:[];return n.map((l=>{const n=(0,a.f)(l.name)?d:s;return{displayedName:l.name,version:l.version,link:n(l.name,l.version),source:null,status:null,sourceLoggedModel:e}}))})),n=l.filter((e=>e.displayedName&&(0,a.f)(e.displayedName)));return{modelVersions:l,ucModels:n}}),[e]),{aclResults:r,isLoading:u}=((e,l)=>{const n=(0,i.useMemo)((()=>(l&&e.length,[])),[e,l]),t=(0,o.E)({queries:n}),{aclResults:a,isLoading:d}=(0,i.useMemo)((()=>l&&0!==e.length?{aclResults:{},isLoading:t.some((e=>e.isLoading))}:{aclResults:{},isLoading:!1}),[t,l,e.length]);return{aclResults:a,isLoading:d}})(t,l);return{modelVersions:(0,i.useMemo)((()=>n.map((e=>{const n=e.displayedName,i=n&&(0,a.f)(n);let o=!0;var t;l&&i&&n&&(o=null!==(t=r[`${n}:${e.version}`])&&void 0!==t&&t);return{...e,hasAccess:o}}))),[n,l,r]),isLoading:u}}},24456:function(e,l,n){n.r(l),n.d(l,{default:function(){return Be}});var i=n(68248),o=n(27757),t=n(27299),a=n(79081),d=n(59930),s=n.n(d),r=n(91105),u=n(7655),c=n(40724),g=n(60284),m=n(10536),v=n(43835),f=n(46709),p=n(77153),h=n(19112),M=n(91701),E=n(65765),C=n(44105);const Y=e=>(0,f.useCallback)((async()=>{var l,i,o,t;if(null===e||void 0===e||null===(l=e.info)||void 0===l||!l.model_id||null===e||void 0===e||null===(i=e.info)||void 0===i||!i.artifact_uri)return!0;const a=(0,E.qk)(C.eh,e.info.model_id),d=await(0,E.UQ)(a),s=(await Promise.resolve().then(n.t.bind(n,80511,23))).load(await d.text());return void 0!==(null===s||void 0===s||null===(o=s.signature)||void 0===o?void 0:o.inputs)&&void 0!==(null===s||void 0===s||null===(t=s.signature)||void 0===t?void 0:t.outputs)}),[e]);var _=n(11522),y=n(73408);const w=({loggedModel:e,onSuccess:l})=>{var n;const i=(0,u.A)(),o=(0,f.useCallback)((e=>{var n,o;null===l||void 0===l||l();const t=i.formatMessage({id:"UwpML4",defaultMessage:"Model registered successfully"});_.A.displayGlobalInfoNotification(`${t} ${null!==(n=null===e||void 0===e||null===(o=e.value)||void 0===o?void 0:o.status)&&void 0!==n?n:""}`)}),[i,l]),t=(0,f.useCallback)((e=>{var l;const n=i.formatMessage({id:"0Rao9q",defaultMessage:"Error registering model"}),o=null!==(l=e instanceof p.s?e.getMessageField():null===e||void 0===e?void 0:e.message)&&void 0!==l?l:String(e);_.A.displayGlobalErrorNotification(`${n} ${o}`)}),[i]);Y(e);return null!==e&&void 0!==e&&null!==(n=e.info)&&void 0!==n&&n.artifact_uri&&e.info.model_id?(0,y.Y)(v.vR,{modelPath:e.info.artifact_uri,modelRelativePath:"",disabled:!1,loggedModelId:e.info.model_id,buttonType:"primary",showButton:!0,onRegisterSuccess:o,onRegisterFailure:t}):null};var R=n(61060),x=n(61077);const I=()=>(0,y.FD)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[(0,y.Y)("path",{d:"M10 1H3C2.44772 1 2 1.44772 2 2V14C2 14.5523 2.44772 15 3 15H6M10 1L11.8204 2.69904M10 1L13.8051 4.55138C13.9294 4.66744 14 4.82991 14 5V5",stroke:"#5F7281",strokeWidth:"1.5",strokeLinecap:"round"}),(0,y.Y)("path",{d:"M9 1V4C9 4.55228 9.44772 5 10 5H14",stroke:"#5F7281",strokeWidth:"1.5",strokeLinecap:"round"}),(0,y.Y)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.54688 8.46874C7.15855 8.46874 6.84375 8.78354 6.84375 9.17186C6.84375 9.56019 7.15855 9.87499 7.54688 9.87499C7.9352 9.87499 8.25001 9.56019 8.25001 9.17186C8.25001 8.78354 7.9352 8.46874 7.54688 8.46874ZM6 9.17186C6 8.31755 6.69256 7.62499 7.54688 7.62499C8.12447 7.62499 8.62812 7.94155 8.8938 8.41063L11.3531 7.87602C11.4381 7.10209 12.0941 6.49999 12.8906 6.49999C13.7449 6.49999 14.4375 7.19255 14.4375 8.04687C14.4375 8.68073 14.0563 9.22554 13.5106 9.46451L13.6692 10.7337C14.4212 10.8388 15 11.4846 15 12.2656C15 13.1199 14.3074 13.8125 13.4531 13.8125C12.9691 13.8125 12.5371 13.5902 12.2534 13.2422L10.7798 13.8869C10.7808 13.9088 10.7812 13.9309 10.7812 13.9531C10.7812 14.8074 10.0887 15.5 9.23436 15.5C8.38005 15.5 7.68748 14.8074 7.68748 13.9531C7.68748 13.4508 7.92695 13.0043 8.29795 12.7218L7.69494 10.7117C7.64621 10.7164 7.59682 10.7187 7.54688 10.7187C6.69256 10.7187 6 10.0262 6 9.17186ZM9.07426 9.41814C9.08407 9.35684 9.09027 9.29434 9.09265 9.23086L11.4923 8.7092C11.711 9.17002 12.1507 9.50555 12.6745 9.57877L12.8332 10.848C12.6211 10.9408 12.4339 11.0799 12.2842 11.2524L9.07426 9.41814ZM8.71576 10.1851C8.646 10.2655 8.56808 10.3386 8.48328 10.4032L9.0863 12.4132C9.13503 12.4086 9.18442 12.4062 9.23436 12.4062C9.76585 12.4062 10.2347 12.6743 10.5132 13.0826L11.9193 12.4674C11.9107 12.4014 11.9062 12.334 11.9062 12.2656C11.9062 12.1818 11.9129 12.0995 11.9257 12.0193L8.71576 10.1851ZM12.75 12.2656C12.75 11.8773 13.0648 11.5625 13.4531 11.5625C13.8414 11.5625 14.1562 11.8773 14.1562 12.2656C14.1562 12.6539 13.8414 12.9687 13.4531 12.9687C13.0648 12.9687 12.75 12.6539 12.75 12.2656ZM9.23436 13.25C8.84604 13.25 8.53124 13.5648 8.53124 13.9531C8.53124 14.3414 8.84604 14.6562 9.23436 14.6562C9.62269 14.6562 9.93749 14.3414 9.93749 13.9531C9.93749 13.5648 9.62269 13.25 9.23436 13.25ZM12.1875 8.04687C12.1875 7.65854 12.5023 7.34374 12.8906 7.34374C13.2789 7.34374 13.5938 7.65854 13.5938 8.04687C13.5938 8.43519 13.2789 8.74999 12.8906 8.74999C12.5023 8.74999 12.1875 8.43519 12.1875 8.04687Z",fill:"#5F7281",stroke:"#5F7281",strokeWidth:"0.5"})]});var N=n(76118),A=n(20980);var L={name:"ozd7xs",styles:"flex-shrink:0"},b={name:"1wcfv52",styles:"margin-right:0"};const D=({experimentId:e,experiment:l,loading:n=!1,loggedModel:d,onSuccess:s})=>{var v;const{theme:p}=(0,o.u)(),h=null===d||void 0===d||null===(v=d.info)||void 0===v?void 0:v.name,M=(0,r.Zp)(),E=(0,u.A)(),{modalElement:Y,openModal:_}=(({loggedModel:e,onSuccess:l})=>{var n;const[i,o]=(0,f.useState)(!1),d=(0,R.n)({mutationFn:async({loggedModelId:e})=>{await(0,x.ff)((0,x.we)(`ajax-api/2.0/mlflow/logged-models/${e}`),"DELETE")}}),{mutate:s,isLoading:r,reset:u}=d;return{modalElement:(0,y.FD)(a.d,{componentId:"mlflow.logged_model.details.delete_modal",visible:i,onCancel:()=>o(!1),title:(0,y.Y)(c.A,{id:"0IVF6w",defaultMessage:"Delete logged model"}),okText:(0,y.Y)(c.A,{id:"Wm6dYs",defaultMessage:"Delete"}),okButtonProps:{danger:!0,loading:r},onOk:async()=>{var n;null!==e&&void 0!==e&&null!==(n=e.info)&&void 0!==n&&n.model_id?s({loggedModelId:e.info.model_id},{onSuccess:()=>{null===l||void 0===l||l(),o(!1)}}):o(!1)},cancelText:(0,y.Y)(c.A,{id:"6vII7y",defaultMessage:"Cancel"}),children:[(null===(n=d.error)||void 0===n?void 0:n.message)&&(0,y.FD)(y.FK,{children:[(0,y.Y)(t.Alert,{componentId:"mlflow.logged_model.details.delete_modal.error",closable:!1,message:d.error.message,type:"error"}),(0,y.Y)(a.S,{})]}),(0,y.Y)(c.A,{id:"AzdZPn",defaultMessage:"Are you sure you want to delete this logged model?"})]}),openModal:(0,f.useCallback)((()=>{u(),o(!0)}),[u])}})({loggedModel:d,onSuccess:()=>{M(g.Ay.getExperimentPageTabRoute(e,C.fM.Models))}}),{modelVersions:I}=(0,A.b)({loggedModels:d?[d]:[]}),D=(0,N.isEmpty)(I),T=[(0,y.Y)(r.N_,{to:g.Ay.getExperimentPageTabRoute(e,C.fM.Models),children:l&&"name"in l?null===l||void 0===l?void 0:l.name:e}),(0,y.Y)(r.N_,{to:g.Ay.getExperimentPageTabRoute(e,C.fM.Models),children:(0,y.Y)(c.A,{id:"Uue10g",defaultMessage:"Models"})})];return(0,y.FD)("div",{css:L,children:[n?(0,y.Y)(S,{}):(0,y.FD)(m.z,{title:D?(0,y.FD)("div",{css:(0,i.AH)({display:"flex",gap:p.spacing.sm,alignItems:"center",justifyContent:"flex-start"},""),children:[(0,y.Y)(k,{}),(0,y.Y)("span",{children:h}),(0,y.Y)(t.Tag,{color:"brown",componentId:"mlflow.logged_model.details.not_registered_tag",css:b,children:E.formatMessage({id:"LKH6uO",defaultMessage:"Not registered"})})]}):(0,y.FD)("div",{css:(0,i.AH)({display:"flex",alignItems:"center",gap:p.spacing.sm},""),children:[(0,y.Y)(k,{}),(0,y.Y)("span",{children:h})]}),dangerouslyAppendEmotionCSS:{h2:{display:"flex",gap:p.spacing.sm},wordBreak:"break-word"},breadcrumbs:T,children:[(0,y.FD)(t.DropdownMenu.Root,{children:[(0,y.Y)(t.DropdownMenu.Trigger,{asChild:!0,children:(0,y.Y)(o.B,{componentId:"mlflow.logged_model.details.more_actions",icon:(0,y.Y)(t.OverflowIcon,{}),"aria-label":E.formatMessage({id:"uB7rmB",defaultMessage:"More actions"})})}),(0,y.Y)(t.DropdownMenu.Content,{align:"end",children:(0,y.Y)(t.DropdownMenu.Item,{componentId:"mlflow.logged_model.details.delete_button",onClick:_,children:(0,y.Y)(c.A,{id:"U+2XCK",defaultMessage:"Delete"})})})]}),(0,y.Y)(w,{loggedModel:d,onSuccess:s})]}),Y]})},k=()=>{const{theme:e}=(0,o.u)();return(0,y.Y)("div",{css:(0,i.AH)({display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.colors.backgroundSecondary,padding:6,borderRadius:e.spacing.lg},""),children:(0,y.Y)(o.I,{component:I,css:(0,i.AH)({display:"flex",color:e.colors.textSecondary},"")})})};var T={name:"1eoy87d",styles:"display:flex;justify-content:space-between"};const S=()=>{const{theme:e}=(0,o.u)();return(0,y.FD)("div",{css:(0,i.AH)({height:2*e.general.heightSm,marginBottom:e.spacing.sm},""),children:[(0,y.Y)("div",{css:(0,i.AH)({height:e.spacing.lg},""),children:(0,y.Y)(t.GenericSkeleton,{css:(0,i.AH)({width:100,height:e.spacing.md},""),loading:!0})}),(0,y.FD)("div",{css:T,children:[(0,y.FD)("div",{css:(0,i.AH)({display:"flex",gap:e.spacing.sm,marginTop:.5*e.spacing.xs},""),children:[(0,y.Y)(t.GenericSkeleton,{css:(0,i.AH)({width:e.general.heightSm,height:e.general.heightSm},""),loading:!0}),(0,y.Y)(t.GenericSkeleton,{css:(0,i.AH)({width:160,height:e.general.heightSm},""),loading:!0})]}),(0,y.FD)("div",{css:(0,i.AH)({display:"flex",gap:e.spacing.sm},""),children:[(0,y.Y)(t.GenericSkeleton,{css:(0,i.AH)({width:100,height:e.general.heightSm},""),loading:!0}),(0,y.Y)(t.GenericSkeleton,{css:(0,i.AH)({width:60,height:e.general.heightSm},""),loading:!0})]})]})]})};var F=n(85015);const P=({experimentId:e,modelId:l,activeTabName:n})=>(0,y.Y)(t.NavigationMenu.Root,{children:(0,y.FD)(t.NavigationMenu.List,{children:[(0,y.Y)(t.NavigationMenu.Item,{active:!n,children:(0,y.Y)(r.N_,{to:g.Ay.getExperimentLoggedModelDetailsPageRoute(e,l),children:(0,y.Y)(c.A,{id:"FBR3Q/",defaultMessage:"Overview"})})},"overview"),(0,y.Y)(t.NavigationMenu.Item,{active:"traces"===n,children:(0,y.Y)(r.N_,{to:g.Ay.getExperimentLoggedModelDetailsPageRoute(e,l,"traces"),children:(0,y.Y)(c.A,{id:"TeN9hs",defaultMessage:"Traces"})})},"traces"),(0,y.Y)(t.NavigationMenu.Item,{active:"artifacts"===n,children:(0,y.Y)(r.N_,{to:g.Ay.getExperimentLoggedModelDetailsPageRoute(e,l,"artifacts"),children:(0,y.Y)(c.A,{id:"Kwz1fc",defaultMessage:"Artifacts"})})},"artifacts")]})});n(48107),n(69603);var O=n(17763),z=n(86134),G=n(88185),H=n(52644),B=n(53935);var V=n(29774);const U=({loggedModel:e,onDescriptionChanged:l})=>{var n,a,d,s,r;const g=null!==(n=null===e||void 0===e||null===(a=e.info)||void 0===a||null===(d=a.tags)||void 0===d||null===(s=d.find((e=>e.key===B.e)))||void 0===s?void 0:s.value)&&void 0!==n?n:void 0,[m,v]=(0,f.useState)(!1),p=(0,u.A)(),{theme:h}=(0,o.u)(),{patch:M}=(({loggedModelId:e})=>{const{isLoading:l,error:n,mutateAsync:i}=(0,R.n)({mutationFn:async l=>{const n={tags:(0,N.entries)(l).map((([e,l])=>({key:e,value:l})))};return(0,x.ff)((0,x.we)(`ajax-api/2.0/mlflow/logged-models/${e}/tags`),"PATCH",n)}});return{isLoading:l,error:n,patch:i}})({loggedModelId:null===e||void 0===e||null===(r=e.info)||void 0===r?void 0:r.model_id}),{handleError:E}=(0,V.tF)(),C=!g;return(0,y.FD)("div",{css:(0,i.AH)({marginBottom:h.spacing.md},""),children:[(0,y.FD)(o.T.Title,{level:4,css:(0,i.AH)({display:"flex",alignItems:"center",gap:h.spacing.xs},""),children:[(0,y.Y)(c.A,{id:"IB0MR8",defaultMessage:"Description"}),(0,y.Y)(o.B,{componentId:"mlflow.logged_models.details.description.edit",size:"small",type:"tertiary","aria-label":p.formatMessage({id:"7pRcdg",defaultMessage:"Edit description"}),onClick:()=>v(!0),icon:(0,y.Y)(t.PencilIcon,{})})]}),C&&!m&&(0,y.Y)(o.T.Hint,{children:(0,y.Y)(c.A,{id:"npKSv/",defaultMessage:"No description"})}),(!C||m)&&(0,y.Y)(H.V,{defaultMarkdown:g,onSubmit:async e=>{try{await M({[B.e]:e}),await l(),v(!1)}catch(n){E(n)}},onCancel:()=>v(!1),showEditor:m})]})};var K=n(27461),$=n(76256),Z=n(66916),q=n(90061),j=n(43617);const W=({getValue:e})=>{var l;const{runName:n,runId:i}=null!==(l=e())&&void 0!==l?l:{};return(0,y.Y)(r.N_,{to:g.Ay.getDirectRunPageRoute(null!==i&&void 0!==i?i:""),children:n||i})};var J=n(97587),X=n(47207);const Q=({getValue:e})=>{const{datasetDigest:l,datasetName:n,runId:i}=e();return n?(0,y.Y)(J.f,{datasetName:n,datasetDigest:l,runId:i}):"-"};var ee={name:"17mlebt",styles:"display:flex;flex-direction:column;overflow:hidden;max-height:400px"};const le=({loggedModel:e,relatedRunsData:l,relatedRunsLoading:n})=>{const{theme:a}=(0,o.u)(),{detailsPageTableStyles:d,detailsPageNoEntriesStyles:s}=(0,X.z)(),r=(0,u.A)(),[g,m]=(0,f.useState)(""),v=(0,f.useMemo)((()=>{var i,o,t;return n?[]:null!==(i=null===e||void 0===e||null===(o=e.data)||void 0===o||null===(t=o.metrics)||void 0===t?void 0:t.map((n=>{var i,o,t;const a=null===l||void 0===l||null===(i=l.find((e=>{var l;return(null===(l=e.info)||void 0===l?void 0:l.runUuid)===n.run_id})))||void 0===i||null===(o=i.info)||void 0===o?void 0:o.runName;return{...n,experimentId:null===(t=e.info)||void 0===t?void 0:t.experiment_id,runName:a}})))&&void 0!==i?i:[]}),[e,n,l]),p=(0,f.useMemo)((()=>v.filter((({key:e,dataset_name:l,dataset_digest:n,runName:i})=>{const o=g.toLowerCase();return(null===e||void 0===e?void 0:e.toLowerCase().includes(o))||(null===l||void 0===l?void 0:l.toLowerCase().includes(o))||(null===n||void 0===n?void 0:n.toLowerCase().includes(o))||(null===i||void 0===i?void 0:i.toLowerCase().includes(o))}))),[g,v]),h=(0,f.useMemo)((()=>[{id:"metric",accessorKey:"key",header:r.formatMessage({id:"R/4/8G",defaultMessage:"Metric"}),enableResizing:!0,size:240},{id:"dataset",header:r.formatMessage({id:"lCfyQO",defaultMessage:"Dataset"}),accessorFn:({dataset_name:e,dataset_digest:l,run_id:n})=>({datasetName:e,datasetDigest:l,runId:n}),enableResizing:!0,cell:Q},{id:"sourceRun",header:r.formatMessage({id:"z42Rsj",defaultMessage:"Source run"}),accessorFn:({run_id:e,runName:l,experimentId:n})=>({runId:e,runName:l,experimentId:n}),enableResizing:!0,cell:W},{id:"value",header:r.formatMessage({id:"NU5iHM",defaultMessage:"Value"}),accessorKey:"value",enableResizing:!0,meta:{styles:{minWidth:120}}}]),[r]),M=(0,$.L)("mlflow/server/js/src/experiment-tracking/components/experiment-logged-models/ExperimentLoggedModelDetailsMetricsTable.tsx",{data:p,getCoreRowModel:(0,q.HT)(),getExpandedRowModel:(0,q.D0)(),getRowId:e=>{var l;return null!==(l=[e.key,e.dataset_digest,e.run_id].join("."))&&void 0!==l?l:""},enableColumnResizing:!0,columnResizeMode:"onChange",columns:h});return(0,y.FD)("div",{css:ee,children:[(0,y.Y)(o.T.Title,{level:4,children:(0,y.Y)(c.A,{id:"lPNTq7",defaultMessage:"Metrics ({length})",values:{length:v.length}})}),(0,y.Y)("div",{css:(0,i.AH)({padding:a.spacing.sm,border:`1px solid ${a.colors.border}`,borderRadius:a.general.borderRadiusBase,display:"flex",flexDirection:"column",overflow:"hidden"},""),children:(()=>{if(n)return(0,y.Y)(t.TableSkeleton,{lines:3});if(!v.length)return(0,y.Y)("div",{css:s,children:(0,y.Y)(t.Empty,{description:(0,y.Y)(c.A,{id:"XwkX9B",defaultMessage:"No metrics recorded"})})});const e=p.length<1;return(0,y.FD)(y.FK,{children:[(0,y.Y)("div",{css:(0,i.AH)({marginBottom:a.spacing.sm},""),children:(0,y.Y)(Z.I,{componentId:"mlflow.logged_model.details.metrics.table.search",prefix:(0,y.Y)(Z.S,{}),placeholder:r.formatMessage({id:"+Cr7Gu",defaultMessage:"Search metrics"}),value:g,onChange:e=>m(e.target.value),allowClear:!0})}),(0,y.FD)(t.Table,{ref:e=>null===e||void 0===e?void 0:e.setAttribute("data-testid","logged-model-details-metrics-table"),scrollable:!0,empty:e?(0,y.Y)("div",{children:(0,y.Y)(t.Empty,{description:(0,y.Y)(c.A,{id:"hyHL1n",defaultMessage:"No metrics match the search filter"})})}):null,css:d,children:[(0,y.Y)(t.TableRow,{isHeader:!0,children:M.getLeafHeaders().map(((e,l)=>{var n;return(0,y.Y)(t.TableHeader,{componentId:"mlflow.logged_model.details.metrics.table.header",header:e,column:e.column,setColumnSizing:M.setColumnSizing,isResizing:e.column.getIsResizing(),css:(0,i.AH)({flexGrow:e.column.getCanResize()?0:1,...null===(n=e.column.columnDef.meta)||void 0===n?void 0:n.styles},""),style:{flexBasis:e.column.getCanResize()?e.column.getSize():void 0},children:(0,j.Kv)(e.column.columnDef.header,e.getContext())},e.id)}))}),M.getRowModel().rows.map((e=>(0,y.Y)(t.TableRow,{children:e.getAllCells().map((e=>{var l;return(0,y.Y)(t.TableCell,{style:{flexGrow:e.column.getCanResize()?0:1,flexBasis:e.column.getCanResize()?e.column.getSize():void 0},css:(0,i.AH)({...null===(l=e.column.columnDef.meta)||void 0===l?void 0:l.styles},""),children:(0,j.Kv)(e.column.columnDef.cell,e.getContext())},e.id)}))},e.id)))]})]})})()})]})};const ne=({getValue:e})=>{var l;const n=null!==(l=e())&&void 0!==l?l:[];return(0,N.isEmpty)(n)?(0,y.Y)(y.FK,{children:"-"}):(0,y.Y)(t.Overflow,{children:n.map((({datasetDigest:e,datasetName:l,runId:n})=>(0,y.Y)(J.f,{datasetName:l,datasetDigest:e,runId:n},[l,e].join("."))))})};var ie={name:"17mlebt",styles:"display:flex;flex-direction:column;overflow:hidden;max-height:400px"},oe={name:"11g4mt0",styles:"font-size:16px"};const te=({loggedModel:e,relatedRunsData:l,relatedRunsLoading:n})=>{const{theme:a}=(0,o.u)(),{detailsPageTableStyles:d,detailsPageNoEntriesStyles:s}=(0,X.z)(),r=(0,u.A)(),[g,m]=(0,f.useState)(""),v=(0,f.useMemo)((()=>{var i,o,t;if(n)return[];const a=null!==(i=null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.metrics)&&void 0!==i?i:[],d=(0,N.groupBy)(a,"run_id");return null!==e&&void 0!==e&&null!==(t=e.info)&&void 0!==t&&t.source_run_id&&!d[e.info.source_run_id]&&(d[e.info.source_run_id]=[]),(0,N.entries)(d).map((([n,i])=>{var o,t,a;const d=(0,N.uniqBy)(i,"dataset_name").map((({dataset_digest:e,dataset_name:l})=>({datasetDigest:e,datasetName:l,runId:n}))).filter((e=>Boolean(e.datasetName)||Boolean(e.datasetDigest))),s=null===l||void 0===l||null===(o=l.find((e=>{var l;return(null===(l=e.info)||void 0===l?void 0:l.runUuid)===n})))||void 0===o||null===(t=o.info)||void 0===t?void 0:t.runName;return{runId:n,runName:s,datasets:d,experimentId:null===e||void 0===e||null===(a=e.info)||void 0===a?void 0:a.experiment_id}}))}),[e,n,l]),p=(0,f.useMemo)((()=>v.filter((({runName:e,datasets:l})=>{const n=g.toLowerCase();return(null===e||void 0===e?void 0:e.toLowerCase().includes(n))||l.find((e=>{var l;return null===(l=e.datasetName)||void 0===l?void 0:l.toLowerCase().includes(n)}))}))),[g,v]),h=(0,f.useMemo)((()=>[{id:"run",header:r.formatMessage({id:"/4Aok8",defaultMessage:"Run"}),enableResizing:!0,size:240,accessorFn:({runId:e,runName:l,experimentId:n})=>({runId:e,runName:l,experimentId:n}),cell:W},{id:"input",header:r.formatMessage({id:"ubeHow",defaultMessage:"Input"}),accessorKey:"datasets",enableResizing:!1,cell:ne}]),[r]),M=(0,$.L)("mlflow/server/js/src/experiment-tracking/components/experiment-logged-models/ExperimentLoggedModelDetailsRunsTable.tsx",{data:p,getCoreRowModel:(0,q.HT)(),getExpandedRowModel:(0,q.D0)(),getRowId:e=>e.key,enableColumnResizing:!0,columnResizeMode:"onChange",columns:h});return(0,y.FD)("div",{css:ie,children:[(0,y.Y)(o.T.Title,{css:oe,children:"Runs"}),(0,y.Y)("div",{css:(0,i.AH)({padding:a.spacing.sm,border:`1px solid ${a.colors.border}`,borderRadius:a.general.borderRadiusBase,display:"flex",flexDirection:"column",overflow:"hidden"},""),children:(()=>{if(n)return(0,y.Y)(t.TableSkeleton,{lines:3});if(!v.length)return(0,y.Y)("div",{css:s,children:(0,y.Y)(t.Empty,{description:(0,y.Y)(c.A,{id:"TC9IhO",defaultMessage:"No runs"})})});const e=p.length<1;return(0,y.FD)(y.FK,{children:[(0,y.Y)("div",{css:(0,i.AH)({marginBottom:a.spacing.sm},""),children:(0,y.Y)(Z.I,{componentId:"mlflow.logged_model.details.runs.table.search",prefix:(0,y.Y)(Z.S,{}),placeholder:r.formatMessage({id:"eQV8Hs",defaultMessage:"Search runs"}),value:g,onChange:e=>m(e.target.value),allowClear:!0})}),(0,y.FD)(t.Table,{scrollable:!0,ref:e=>null===e||void 0===e?void 0:e.setAttribute("data-testid","logged-model-details-runs-table"),empty:e?(0,y.Y)("div",{children:(0,y.Y)(t.Empty,{description:(0,y.Y)(c.A,{id:"5bBqLk",defaultMessage:"No runs match the search filter"})})}):null,css:d,children:[(0,y.Y)(t.TableRow,{isHeader:!0,children:M.getLeafHeaders().map(((e,l)=>(0,y.Y)(t.TableHeader,{componentId:"mlflow.logged_model.details.runs.table.header",header:e,column:e.column,setColumnSizing:M.setColumnSizing,isResizing:e.column.getIsResizing(),css:(0,i.AH)({flexGrow:e.column.getCanResize()?0:1},""),style:{flexBasis:e.column.getCanResize()?e.column.getSize():void 0},children:(0,j.Kv)(e.column.columnDef.header,e.getContext())},e.id)))}),M.getRowModel().rows.map((e=>(0,y.Y)(t.TableRow,{children:e.getAllCells().map((e=>(0,y.Y)(t.TableCell,{style:{flexGrow:e.column.getCanResize()?0:1,flexBasis:e.column.getCanResize()?e.column.getSize():void 0},multiline:!0,children:(0,j.Kv)(e.column.columnDef.cell,e.getContext())},e.id)))},e.id)))]})]})})()})]})};var ae=n(6050);const de=({row:e})=>{var l;const{experimentId:n,name:i,version:o}=null!==(l=e.original)&&void 0!==l?l:{},t=g.Ay.getPromptDetailsPageRoute(i);if(o){const e=new URLSearchParams;e.set(ae.$t,o);const l=`${t}?${e.toString()}`;return(0,y.Y)(r.N_,{to:l,children:i})}return(0,y.Y)(r.N_,{to:t,children:i})},se=({row:e})=>{var l;const{version:n}=null!==(l=e.original)&&void 0!==l?l:{};return(0,y.Y)(o.T.Paragraph,{withoutMargins:!0,children:n})};var re={name:"17mlebt",styles:"display:flex;flex-direction:column;overflow:hidden;max-height:400px"},ue={name:"11g4mt0",styles:"font-size:16px"};const ce=({data:e})=>{const l=(0,u.A)(),{theme:n}=(0,o.u)(),[a,d]=(0,f.useState)(""),s=(0,f.useMemo)((()=>[{id:"name",header:l.formatMessage({id:"npoynr",defaultMessage:"Prompt Name"}),enableResizing:!0,size:400,accessorKey:"name",cell:de},{id:"version",header:l.formatMessage({id:"3zU3+M",defaultMessage:"Version"}),enableResizing:!1,accessorKey:"version",cell:se}]),[l]),r=(0,$.L)("mlflow/server/js/src/experiment-tracking/components/experiment-prompts/ExperimentLinkedPromptsTable.tsx",{data:e,getRowId:e=>e.name,getCoreRowModel:(0,q.HT)(),getFilteredRowModel:(0,q.hM)(),enableColumnResizing:!0,columnResizeMode:"onChange",columns:s,state:{globalFilter:a},onGlobalFilterChange:d,globalFilterFn:"includesString"});return(0,y.FD)("div",{css:re,children:[(0,y.Y)(o.T.Title,{css:ue,children:(0,y.Y)(c.A,{id:"1T2RpQ",defaultMessage:"Prompts"})}),(0,y.Y)("div",{css:(0,i.AH)({padding:n.spacing.sm,border:`1px solid ${n.colors.border}`,borderRadius:n.general.borderRadiusBase,display:"flex",flexDirection:"column",overflow:"hidden"},""),children:(0,y.FD)(y.FK,{children:[(0,y.Y)("div",{css:(0,i.AH)({marginBottom:n.spacing.sm},""),children:(0,y.Y)(Z.I,{componentId:"mlflow.logged_model.details.runs.table.search",prefix:(0,y.Y)(Z.S,{}),placeholder:l.formatMessage({id:"xZ/PkV",defaultMessage:"Search prompts"}),value:a,onChange:e=>d(e.target.value),allowClear:!0})}),(0,y.FD)(t.Table,{scrollable:!0,css:(0,i.AH)({"&>div":(0,o.A)(n,{orientation:"vertical"})},""),empty:0===e.length?(0,y.Y)(t.Empty,{description:(0,y.Y)(c.A,{id:"C9wfr0",defaultMessage:"No prompts"})}):0===r.getFilteredRowModel().rows.length?(0,y.Y)(t.Empty,{description:(0,y.Y)(c.A,{id:"yltiK8",defaultMessage:"No prompts match your search"})}):null,children:[(0,y.Y)(t.TableRow,{isHeader:!0,children:r.getLeafHeaders().map((e=>(0,y.Y)(t.TableHeader,{componentId:"mlflow.logged_model.details.linked_prompts.table.header",header:e,column:e.column,setColumnSizing:r.setColumnSizing,isResizing:e.column.getIsResizing(),css:(0,i.AH)({flexGrow:e.column.getCanResize()?0:1},""),style:{flexBasis:e.column.getCanResize()?e.column.getSize():void 0},children:(0,j.Kv)(e.column.columnDef.header,e.getContext())},e.id)))}),r.getRowModel().rows.map((e=>(0,y.Y)(t.TableRow,{children:e.getAllCells().map((l=>(0,y.Y)(t.TableCell,{style:{flexGrow:l.column.getCanResize()?0:1,flexBasis:l.column.getCanResize()?l.column.getSize():void 0},children:(0,j.Kv)(l.column.columnDef.cell,l.getContext())},`${l.id}-${e.original.name}-${e.original.version}-cell`)))},`${e.id}-${e.original.name}-${e.original.version}-row`)))]})]})})]})},ge=({loggedModel:e})=>{var l,n,i;const o=null===e||void 0===e||null===(l=e.info)||void 0===l?void 0:l.tags,t=null!==(n=null===e||void 0===e||null===(i=e.info)||void 0===i?void 0:i.experiment_id)&&void 0!==n?n:"",a=null===o||void 0===o?void 0:o.find((({key:e})=>e===C.VT)),d=(0,f.useMemo)((()=>{try{var e;return JSON.parse(null!==(e=null===a||void 0===a?void 0:a.value)&&void 0!==e?e:"[]")}catch(l){return[]}}),[a]),s=(0,f.useMemo)((()=>d.map((e=>({...e,experimentId:t})))),[d,t]);return(0,y.Y)(ce,{data:s})};var me=n(8750);const ve=({loggedModel:e,empty:l})=>{const n=(0,f.useMemo)((()=>{var l,n;return(null!==(l=null===(n=e.data)||void 0===n?void 0:n.metrics)&&void 0!==l?l:[]).reduce(((e,{dataset_digest:l,dataset_name:n,run_id:i})=>(n&&l&&!e.find((e=>e.dataset_name===n&&e.dataset_digest===l))&&e.push({dataset_name:n,dataset_digest:l,run_id:i}),e)),[])}),[e]);return n.length?(0,y.Y)(t.Overflow,{children:n.map((({dataset_digest:e,dataset_name:l,run_id:n})=>(0,y.Y)(J.f,{datasetName:l,datasetDigest:e,runId:null!==n&&void 0!==n?n:null},[l,e].join("."))))}):null!==l&&void 0!==l?l:(0,y.Y)(y.FK,{children:"-"})};var fe=n(75173),pe=n(10165);var he={name:"ozd7xs",styles:"flex-shrink:0"};const Me=({loggedModel:e,empty:l})=>{const n=(0,f.useMemo)((()=>[e]),[e]),{theme:a}=(0,o.u)(),{modelVersions:d}=(0,A.b)({loggedModels:n});return(0,N.isEmpty)(d)?null!==l&&void 0!==l?l:(0,y.Y)(y.FK,{children:"-"}):(0,y.Y)(t.Overflow,{children:null===d||void 0===d?void 0:d.map((({displayedName:e,version:l,link:n})=>(0,y.FD)(r.N_,{to:n,css:(0,i.AH)({display:"flex",alignItems:"center",gap:a.spacing.sm},""),children:[(0,y.FD)("span",{css:(0,i.AH)({display:"flex",alignItems:"center",gap:a.spacing.sm,wordBreak:"break-all"},""),children:[(0,y.Y)(pe.h,{css:he})," ",e," "]}),(0,y.FD)(t.Tag,{componentId:"mlflow.logged_model.details.registered_model_version_tag",children:["v",l]})]},`${e}-${l}`)))})};var Ee=n(79557),Ce=n(23158),Ye=n(21678);var _e=function(e){return e.DETAILS="DETAILS",e.DATASETS="DATASETS",e.MODEL_VERSIONS="MODEL_VERSIONS",e}(_e||{}),ye={name:"1bmnxg7",styles:"white-space:nowrap"};var we={name:"82a6rk",styles:"flex:1"};const Re=({onDataUpdated:e,loggedModel:l,experimentKind:n})=>{var d,s;const{theme:m}=(0,o.u)(),v=n===C.Gk.GENAI_DEVELOPMENT,{data:p,loading:h,error:M}=(0,me.s)({loggedModels:l?[l]:[]}),E=(0,f.useMemo)((()=>null===p||void 0===p?void 0:p.find((e=>{var n,i;return(null===(n=e.info)||void 0===n?void 0:n.runUuid)===(null===l||void 0===l||null===(i=l.info)||void 0===i?void 0:i.source_run_id)}))),[null===l||void 0===l||null===(d=l.info)||void 0===d?void 0:d.source_run_id,p]),Y=(0,f.useMemo)((()=>{var e,n;return(0,N.keyBy)((null!==(e=null===l||void 0===l||null===(n=l.data)||void 0===n?void 0:n.params)&&void 0!==e?e:[]).filter((({key:e,value:l})=>!(0,N.isEmpty)(e)&&!(0,N.isEmpty)(l))),"key")}),[null===l||void 0===l||null===(s=l.data)||void 0===s?void 0:s.params]),_=(({loggedModel:e,relatedRunsLoading:l,relatedSourceRun:n})=>{var a,d,s,c,m,v,f,p,h,M,E,Y,_,w,R,x,I,N,A;const L=(0,u.A)(),{theme:b}=(0,o.u)(),D=e&&(0,y.FD)(y.FK,{children:[(0,y.Y)(Ye.wB,{keyValue:L.formatMessage({id:"MUUYWZ",defaultMessage:"Created at"}),value:(0,y.Y)(O.P,{value:null===e||void 0===e||null===(a=e.info)||void 0===a?void 0:a.creation_timestamp_ms})}),(0,y.Y)(Ye.wB,{keyValue:L.formatMessage({id:"Bs2X0L",defaultMessage:"Created by"}),value:null!==(d=null===(s=e.info)||void 0===s||null===(c=s.tags)||void 0===c||null===(m=c.find((e=>e.key===C.g0)))||void 0===m?void 0:m.value)&&void 0!==d?d:"-"}),(0,y.Y)(Ye.wB,{keyValue:L.formatMessage({id:"UgF7ax",defaultMessage:"Status"}),value:(0,y.Y)(z.a,{data:e})}),(0,y.Y)(Ye.wB,{keyValue:L.formatMessage({id:"A+5KMV",defaultMessage:"Model ID"}),value:(0,y.Y)(G.t,{value:null!==(v=null===(f=e.info)||void 0===f?void 0:f.model_id)&&void 0!==v?v:"",css:ye})}),(null===(p=e.info)||void 0===p?void 0:p.source_run_id)&&(null===(h=e.info)||void 0===h?void 0:h.experiment_id)&&(l||n)&&(0,y.Y)(Ye.wB,{keyValue:L.formatMessage({id:"d8cdYc",defaultMessage:"Source run"}),value:l?(0,y.Y)(t.GenericSkeleton,{css:(0,i.AH)({width:200,height:b.spacing.md},"")}):(0,y.Y)(r.N_,{to:g.Ay.getRunPageRoute(null===(M=e.info)||void 0===M?void 0:M.experiment_id,null===(E=e.info)||void 0===E?void 0:E.source_run_id),children:null===n||void 0===n||null===(Y=n.info)||void 0===Y?void 0:Y.runName})}),(null===(_=e.info)||void 0===_?void 0:_.source_run_id)&&(0,y.Y)(Ye.wB,{keyValue:L.formatMessage({id:"wFaOf0",defaultMessage:"Source run ID"}),value:(0,y.Y)(G.t,{value:null!==(w=null===(R=e.info)||void 0===R?void 0:R.source_run_id)&&void 0!==w?w:"",element:null!==(x=e.info)&&void 0!==x&&x.experiment_id?(0,y.Y)(r.N_,{to:g.Ay.getRunPageRoute(null===(I=e.info)||void 0===I?void 0:I.experiment_id,null===(N=e.info)||void 0===N?void 0:N.source_run_id),children:null===(A=e.info)||void 0===A?void 0:A.source_run_id}):void 0})}),(0,y.Y)(Ye.wB,{keyValue:L.formatMessage({id:"oShuJS",defaultMessage:"Logged from"}),value:(0,y.Y)(Ee.J,{loggedModel:e,displayDetails:!0,css:(0,i.AH)({paddingTop:b.spacing.xs,paddingBottom:b.spacing.xs,wordBreak:"break-all"},"")})})]});return[{id:_e.DETAILS,title:L.formatMessage({id:"fWPlO9",defaultMessage:"About this logged model"}),content:D},{id:_e.DATASETS,title:L.formatMessage({id:"msllnR",defaultMessage:"Datasets used"}),content:e&&(0,y.Y)(ve,{loggedModel:e,empty:(0,y.Y)(Ye.bw,{})})},{id:_e.MODEL_VERSIONS,title:L.formatMessage({id:"LpdcPw",defaultMessage:"Model versions"}),content:e&&(0,y.Y)(Me,{empty:(0,y.Y)(Ye.bw,{}),loggedModel:e})}]})({loggedModel:l,relatedRunsLoading:h,relatedSourceRun:E});return(0,y.Y)(fe.Xs,{children:(0,y.FD)(Ce.a,{css:we,usingSidebarLayout:!0,secondarySections:_,sidebarSize:"sm",children:[(0,y.Y)(U,{loggedModel:l,onDescriptionChanged:e}),(null===M||void 0===M?void 0:M.message)&&(0,y.FD)(y.FK,{children:[(0,y.Y)(t.Alert,{closable:!1,message:(0,y.Y)(c.A,{id:"nNIors",defaultMessage:"Error when fetching related runs data: {error}",values:{error:M.message}}),type:"error",componentId:"mlflow.logged_model.details.related_runs.error"}),(0,y.Y)(a.S,{size:"md"})]}),(0,y.FD)("div",{css:["display:flex;flex-direction:column;",{gap:m.spacing.lg,overflow:"hidden",paddingBottom:3*m.spacing.lg},""],children:[(0,y.Y)(le,{loggedModel:l,relatedRunsLoading:h,relatedRunsData:null!==p&&void 0!==p?p:void 0}),(0,y.Y)(K.y,{params:Y}),(0,y.Y)(te,{loggedModel:l,relatedRunsLoading:h,relatedRunsData:null!==p&&void 0!==p?p:void 0}),v&&(0,y.Y)(ge,{loggedModel:l})]})]})})};var xe=n(70513),Ie=n(54741),Ne=n(43075);var Ae={name:"1jv19ey",styles:"height:100%;overflow:hidden;display:flex"};const Le=({loggedModel:e})=>{var l,n,i,o,t,a,d;return(0,y.Y)("div",{css:Ae,children:(0,y.Y)(Ne.Ay,{isLoggedModelsMode:!0,loggedModelId:null!==(l=null===(n=e.info)||void 0===n?void 0:n.model_id)&&void 0!==l?l:"",artifactRootUri:null!==(i=null===e||void 0===e||null===(o=e.info)||void 0===o?void 0:o.artifact_uri)&&void 0!==i?i:"",useAutoHeight:!0,experimentId:null!==(t=null===e||void 0===e||null===(a=e.info)||void 0===a?void 0:a.experiment_id)&&void 0!==t?t:"",entityTags:null===e||void 0===e||null===(d=e.info)||void 0===d?void 0:d.tags})})};var be={name:"1hyob9y",styles:"position:relative;width:min-content"};const De=({modelId:e})=>{const{theme:l}=(0,o.u)(),n=`import mlflow\n          \nmlflow.set_active_model(model_id="${e}")`;return(0,y.FD)(y.FK,{children:[(0,y.Y)(o.T.Paragraph,{children:(0,y.Y)(c.A,{id:"3X52Jw",defaultMessage:"This tab displays all the traces logged to this logged model. MLflow supports automatic tracing for many popular generative AI frameworks. Follow the steps below to log your first trace. For more information about MLflow Tracing, visit the <a>MLflow documentation</a>.",values:{a:e=>(0,y.Y)(o.T.Link,{componentId:"mlflow.logged_model.traces.traces_table.quickstart_docs_link",href:"https://mlflow.org/docs/latest/llms/tracing/index.html",openInNewTab:!0,children:e})}})}),(0,y.Y)(o.T.Paragraph,{children:(0,y.Y)(c.A,{id:"PBeZnP",defaultMessage:"You can start logging traces to this logged model by calling {code} first:",values:{code:(0,y.Y)("code",{children:"mlflow.set_active_model"})}})}),(0,y.Y)(o.T.Paragraph,{children:(0,y.FD)("div",{css:be,children:[(0,y.Y)(M.i,{componentId:"mlflow.logged_model.traces.traces_table.set_active_model_quickstart_snippet_copy",css:(0,i.AH)({zIndex:1,position:"absolute",top:l.spacing.xs,right:l.spacing.xs},""),showLabel:!1,copyText:n,icon:(0,y.Y)(t.CopyIcon,{})}),(0,y.Y)(h.z7,{showLineNumbers:!0,theme:l.isDarkMode?"duotoneDark":"light",style:{padding:`${l.spacing.sm}px ${l.spacing.md}px`},language:"python",children:n})]})}),(0,y.Y)(o.T.Paragraph,{children:(0,y.Y)(c.A,{id:"uXtIPX",defaultMessage:"Next, you can log traces to this logged model depending on your framework:"})})]})};var ke=n(63394),Te=n(85167);var Se={name:"13udsys",styles:"height:100%"};const Fe=({loggedModel:e,experimentTags:l,isLoadingExperiment:n})=>{var i,o,t,a;const d=(0,f.useMemo)((()=>{var l,n;return[null!==(l=null===(n=e.info)||void 0===n?void 0:n.experiment_id)&&void 0!==l?l:""]}),[null===(i=e.info)||void 0===i?void 0:i.experiment_id]);return null!==(o=e.info)&&void 0!==o&&o.experiment_id?(0,y.Y)("div",{css:Se,children:(0,y.Y)(ke.A,{introductionText:(null===(t=e.info)||void 0===t?void 0:t.model_id)&&(0,y.Y)(De,{modelId:e.info.model_id}),displayVersionWarnings:!1,children:(0,y.Y)(Pe,{experimentIds:d,loggedModelId:null===(a=e.info)||void 0===a?void 0:a.model_id,isLoadingExperiment:n})})}):null},Pe=({experimentIds:e,loggedModelId:l,isLoadingExperiment:n})=>e.length>0?(0,y.Y)(Te.v,{experimentId:e[0],endpointName:"",loggedModelId:l,isLoadingExperiment:n}):null;var Oe=n(91944);var ze={name:"1pbmicl",styles:"overflow:auto;flex:1"};const Ge=()=>{var e;const{experimentId:l,loggedModelId:n,tabName:a}=(0,r.g)(),{clearUserActionError:d,currentUserActionError:u}=(0,V.tF)();s()(l,"Experiment ID must be defined"),s()(n,"Logged model ID must be defined");const{theme:g}=(0,o.u)(),{data:m,isLoading:v,error:f,refetch:p}=(0,xe.b3)({loggedModelId:n}),{data:h,loading:M,apiError:E,apolloError:C}=(0,Ie.L)({experimentId:l});if(f)throw f;const Y=null!==E&&void 0!==E?E:C;return(0,y.FD)(y.FK,{children:[(0,y.Y)(D,{experimentId:l,experiment:h,loggedModel:m,loading:v||M,onSuccess:p}),u&&(0,y.Y)(t.Alert,{componentId:"mlflow.logged_model.details.user-action-error",css:(0,i.AH)({marginBottom:g.spacing.sm},""),type:"error",message:null!==(e=u.displayMessage)&&void 0!==e?e:u.message,onClose:d}),(null===Y||void 0===Y?void 0:Y.message)&&(0,y.Y)(t.Alert,{componentId:"mlflow.logged_model.details.experiment-error",css:(0,i.AH)({marginBottom:g.spacing.sm},""),type:"error",message:(0,y.Y)(c.A,{id:"E4Te7L",defaultMessage:"Experiment load error: {errorMessage}",values:{errorMessage:Y.message}}),closable:!1}),(0,y.Y)(P,{experimentId:l,modelId:n,activeTabName:a}),(0,y.Y)("div",{css:ze,children:(()=>{if(v)return(0,y.Y)(t.TableSkeleton,{lines:12});if(!m)return null;const e=h;var l;if("traces"===a)return(0,y.Y)(Fe,{loggedModel:m,experimentTags:null!==(l=null===e||void 0===e?void 0:e.tags)&&void 0!==l?l:[],isLoadingExperiment:M});if("artifacts"===a)return(0,y.Y)(Le,{loggedModel:m});const n=(0,Oe.BH)(null===e||void 0===e?void 0:e.tags);return(0,y.Y)(Re,{onDataUpdated:p,loggedModel:m,experimentKind:n})})()})]})};var He={name:"5xij5q",styles:"display:flex;overflow:hidden;height:100%;flex-direction:column"};var Be=()=>{const{theme:e}=(0,o.u)();return(0,y.Y)(F.X,{children:(0,y.FD)(t.PageWrapper,{css:He,children:[(0,y.Y)(a.S,{shrinks:!1}),(0,y.Y)(Ge,{}),(0,y.Y)(a.S,{shrinks:!1})]})})}},42762:function(e,l,n){n.d(l,{m:function(){return a}});var i=n(27299),o=n(28126),t=n(73408);const a=({sourceType:e,className:l})=>e===o.Y1.NOTEBOOK?(0,t.Y)(i.NotebookIcon,{className:l}):e===o.Y1.LOCAL?(0,t.Y)(i.FileCodeIcon,{className:l}):e===o.Y1.PROJECT?(0,t.Y)(i.FolderBranchIcon,{className:l}):e===o.Y1.JOB?(0,t.Y)(i.WorkflowsIcon,{className:l}):null},54741:function(e,l,n){n.d(l,{L:function(){return t}});var i=n(81641);const o=i.J1`
  query MlflowGetExperimentQuery($input: MlflowGetExperimentInput!) @component(name: "MLflow.ExperimentRunTracking") {
    mlflowGetExperiment(input: $input) {
      apiError {
        code
        message
      }
      experiment {
        artifactLocation
        creationTime
        experimentId
        lastUpdateTime
        lifecycleStage
        name
        tags {
          key
          value
        }
      }
    }
  }
`,t=({experimentId:e,options:l={}})=>{var n;const{data:t,loading:a,error:d,refetch:s}=(0,i.IT)(o,{variables:{input:{experimentId:e}},skip:!e,...l});return{loading:a,data:null===t||void 0===t||null===(n=t.mlflowGetExperiment)||void 0===n?void 0:n.experiment,refetch:s,apolloError:d,apiError:(()=>{var e;return null===t||void 0===t||null===(e=t.mlflowGetExperiment)||void 0===e?void 0:e.apiError})()}}},85015:function(e,l,n){n.d(l,{X:function(){return c}});var i=n(29774),o=n(89949),t=n(27299),a=n(27757),d=n(40724),s=n(73408);var r={name:"1vfb318",styles:"flex:1;display:flex;align-items:center;justify-content:center"};const u=({error:e})=>{var l;return(0,s.Y)(t.PageWrapper,{css:r,children:(0,s.Y)(t.Empty,{"data-testid":"fallback",title:(0,s.Y)(d.A,{id:"AOoWxS",defaultMessage:"Error"}),description:null!==(l=null===e||void 0===e?void 0:e.message)&&void 0!==l?l:(0,s.Y)(d.A,{id:"zmMR5p",defaultMessage:"An error occurred while rendering this component."}),image:(0,s.Y)(a.k,{})})})},c=({children:e,resetKey:l})=>(0,s.Y)(o.tH,{FallbackComponent:u,resetKeys:[l],children:(0,s.Y)(i.Au,{children:e})})},91944:function(e,l,n){n.d(l,{$g:function(){return g},BH:function(){return a},UI:function(){return u},bf:function(){return c},kk:function(){return t},q5:function(){return r},qp:function(){return s},uk:function(){return d}});var i=n(44105),o=n(77680);const t="mlflow.experimentKind",a=e=>{var l;return null===e||void 0===e||null===(l=e.find((e=>e.key===t)))||void 0===l?void 0:l.value},d=e=>e===i.Gk.GENAI_DEVELOPMENT_INFERRED||e===i.Gk.CUSTOM_MODEL_DEVELOPMENT_INFERRED||e===i.Gk.NO_INFERRED_TYPE||e===i.Gk.GENAI_DEVELOPMENT||e===i.Gk.CUSTOM_MODEL_DEVELOPMENT||e===i.Gk.EMPTY,s=e=>e===i.Gk.GENAI_DEVELOPMENT||e===i.Gk.GENAI_DEVELOPMENT_INFERRED,r=e=>e===i.Gk.GENAI_DEVELOPMENT_INFERRED?i.Gk.GENAI_DEVELOPMENT:e===i.Gk.CUSTOM_MODEL_DEVELOPMENT_INFERRED?i.Gk.CUSTOM_MODEL_DEVELOPMENT:e,u={[i.Gk.GENAI_DEVELOPMENT]:(0,o.zR)({id:"PewjIJ",defaultMessage:"GenAI apps & agents"}),[i.Gk.CUSTOM_MODEL_DEVELOPMENT]:(0,o.zR)({id:"nF10K1",defaultMessage:"Machine learning"}),[i.Gk.GENAI_DEVELOPMENT_INFERRED]:(0,o.zR)({id:"ACNZd9",defaultMessage:"GenAI apps & agents"}),[i.Gk.CUSTOM_MODEL_DEVELOPMENT_INFERRED]:(0,o.zR)({id:"NUjE6C",defaultMessage:"Machine learning"}),[i.Gk.NO_INFERRED_TYPE]:(0,o.zR)({id:"qr7dhT",defaultMessage:"None"}),[i.Gk.FINETUNING]:(0,o.zR)({id:"G4x6G7",defaultMessage:"Finetuning"}),[i.Gk.REGRESSION]:(0,o.zR)({id:"OWfx/j",defaultMessage:"Regression"}),[i.Gk.CLASSIFICATION]:(0,o.zR)({id:"P/Uvf4",defaultMessage:"Classification"}),[i.Gk.FORECASTING]:(0,o.zR)({id:"qDiJI2",defaultMessage:"Forecasting"}),[i.Gk.AUTOML]:(0,o.zR)({id:"wZtuCR",defaultMessage:"AutoML"}),[i.Gk.EMPTY]:(0,o.zR)({id:"0z0lH2",defaultMessage:"None"})},c={[i.Gk.GENAI_DEVELOPMENT]:(0,o.zR)({id:"Fg/zU/",defaultMessage:"GenAI apps & agents"}),[i.Gk.CUSTOM_MODEL_DEVELOPMENT]:(0,o.zR)({id:"T/46y0",defaultMessage:"Machine learning"}),[i.Gk.GENAI_DEVELOPMENT_INFERRED]:(0,o.zR)({id:"CPO2ro",defaultMessage:"GenAI apps & agents"}),[i.Gk.CUSTOM_MODEL_DEVELOPMENT_INFERRED]:(0,o.zR)({id:"KYJxmN",defaultMessage:"Machine learning"}),[i.Gk.NO_INFERRED_TYPE]:(0,o.zR)({id:"jTqRO+",defaultMessage:"None"}),[i.Gk.FINETUNING]:(0,o.zR)({id:"61P6Da",defaultMessage:"finetuning"}),[i.Gk.REGRESSION]:(0,o.zR)({id:"W60/kq",defaultMessage:"regression"}),[i.Gk.CLASSIFICATION]:(0,o.zR)({id:"KwAeyt",defaultMessage:"classification"}),[i.Gk.FORECASTING]:(0,o.zR)({id:"VwxvII",defaultMessage:"forecasting"}),[i.Gk.AUTOML]:(0,o.zR)({id:"lFnpMi",defaultMessage:"AutoML"}),[i.Gk.EMPTY]:(0,o.zR)({id:"+khKtf",defaultMessage:"None"})},g=()=>[i.Gk.GENAI_DEVELOPMENT,i.Gk.CUSTOM_MODEL_DEVELOPMENT]},96584:function(e,l,n){n.d(l,{q:function(){return s}});var i=n(56606),o=n(23403),t=n(60783);class a extends o.${constructor(e,l){super(e,l)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,l){super.setOptions({...e,behavior:(0,t.PL)()},l)}getOptimisticResult(e){return e.behavior=(0,t.PL)(),super.getOptimisticResult(e)}fetchNextPage({pageParam:e,...l}={}){return this.fetch({...l,meta:{fetchMore:{direction:"forward",pageParam:e}}})}fetchPreviousPage({pageParam:e,...l}={}){return this.fetch({...l,meta:{fetchMore:{direction:"backward",pageParam:e}}})}createResult(e,l){var n,i,o,a,d,s;const{state:r}=e,u=super.createResult(e,l),{isFetching:c,isRefetching:g}=u,m=c&&"forward"===(null==(n=r.fetchMeta)||null==(i=n.fetchMore)?void 0:i.direction),v=c&&"backward"===(null==(o=r.fetchMeta)||null==(a=o.fetchMore)?void 0:a.direction);return{...u,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:(0,t.rB)(l,null==(d=r.data)?void 0:d.pages),hasPreviousPage:(0,t.RQ)(l,null==(s=r.data)?void 0:s.pages),isFetchingNextPage:m,isFetchingPreviousPage:v,isRefetching:g&&!m&&!v}}}var d=n(93769);function s(e,l,n){const o=(0,i.vh)(e,l,n);return(0,d.t)(o,a)}},96980:function(e,l,n){n.d(l,{f:function(){return i}});const i=e=>Boolean(e.match(/^[^. /]+\.[^. /]+\.[^. /]+$/))}}]);
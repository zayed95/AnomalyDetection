"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[4802],{3395:function(e,t,n){n.d(t,{$K:function(){return l},M8:function(){return p},jP:function(){return d},tY:function(){return o}});var r=n(46709),s=n(181),a=n(63908),i=n(73408);const o=e=>e.filter((e=>!e.startsWith(s.nt))).map((e=>e.includes('"')||e.includes(" ")||e.includes(".")?`\`${e}\``:e.includes("`")?`"${e}"`:e)),l=(e,t)=>[{label:"Metrics",options:e.metricNames.map((e=>({value:`metrics.${e}`})))},{label:"Parameters",options:e.paramNames.map((e=>({value:`params.${e}`})))},{label:"Tags",options:e.tagNames.map((e=>({value:`tags.${e}`})))},{label:"Attributes",options:t}];var c={name:"lugakg",styles:"font-weight:normal"};const u=(e,t)=>{const n=(0,a.bO)(t),s=e.split(RegExp(n,"ig")),o=e.match(RegExp(n,"ig"));return(0,i.Y)("span",{css:c,"data-testid":e,children:s.map(((e,t)=>(0,i.FD)(r.Fragment,{children:[e,t!==s.length-1&&o&&(0,i.Y)("b",{children:o[t]})]},t)))})},d=e=>{const t=/>|<|>=|<=|=|!=|like|ilike/gi,n=(e=>{const t=/and[\s]+/gi,n=[];let r,s;for(;s=t.lastIndex,r=t.exec(e);)n.push({clause:e.substring(s,r.index),startIndex:s});return n.push({clause:e.substring(s),startIndex:s}),n})(e),r=[];return n.forEach((e=>{const n=e.clause.split(t)[0],{startIndex:s}=e;r.push({name:n,startIndex:0+s,endIndex:n.length+s})})),r},p=(e,t,n)=>e.map((e=>{const r=e.options.filter((e=>e.value.toLowerCase().includes(t.name.toLowerCase().trim()))).map((e=>({value:e.value,label:u(e.value,t.name.trim())}))),s=n[e.label],a=[...r.slice(0,s),...r.length>s?[{label:"...",value:`..._${e.label}`}]:[]];return{label:e.label,options:a}})).filter((e=>e.options.length>0))},8740:function(e,t,n){n.d(t,{D:function(){return h}});var r=n(46709),s=n(63678),a=n(40724),i=n(24523),o=n(73408);const l=()=>(0,o.FD)("div",{className:"search-input-tooltip-content",children:[(0,o.Y)(a.A,{id:"kIlkgf",defaultMessage:"Search runs using a simplified version of the SQL {whereBold} clause.",values:{whereBold:(0,o.Y)("b",{children:"WHERE"})}})," ",(0,o.Y)(a.A,{id:"nYKZy4",defaultMessage:"<link>Learn more</link>",values:{link:e=>(0,o.Y)("a",{href:i.Lm,target:"_blank",rel:"noopener noreferrer",children:e})}}),(0,o.Y)("br",{}),(0,o.Y)(a.A,{id:"U3btBc",defaultMessage:"Examples:"}),(0,o.Y)("br",{}),"\u2022 metrics.rmse >= 0.8",(0,o.Y)("br",{}),"\u2022 metrics.`f1 score` < 1",(0,o.Y)("br",{}),"\u2022 params.model = 'tree'",(0,o.Y)("br",{}),"\u2022 attributes.run_name = 'my run'",(0,o.Y)("br",{}),"\u2022 tags.`mlflow.user` = 'myUser'",(0,o.Y)("br",{}),"\u2022 metric.f1_score > 0.9 AND params.model = 'tree'",(0,o.Y)("br",{}),"\u2022 dataset.name IN ('dataset1', 'dataset2')",(0,o.Y)("br",{}),"\u2022 attributes.run_id IN ('a1b2c3d4', 'e5f6g7h8')",(0,o.Y)("br",{}),"\u2022 tags.model_class LIKE 'sklearn.linear_model%'"]});var c=n(3395),u=n(31655);const d=["run_id","run_name","status","artifact_uri","user_id","start_time","end_time","created"].map((e=>({value:`attributes.${e}`}))),p=(e,t)=>[...new Set([...e,...t])],m=e=>e.flatMap((e=>Object.keys(e))),h=({runsData:e,...t})=>{const n=(0,r.useRef)({metricNames:[],paramNames:[],tagNames:[]}),a=(0,r.useMemo)((()=>{const t=n.current,r=(s=e,{metricNames:p((a=t).metricNames,s.metricKeyList),paramNames:p(a.paramNames,s.paramKeyList),tagNames:(0,c.tY)(p(m(a.tagNames),m(s.tagsList)))});var s,a;return n.current=r,(0,c.$K)(r,d)}),[e]);return(0,o.Y)(s.M,{...t,baseOptions:a,tooltipContent:(0,o.Y)(l,{}),placeholder:'metrics.rmse < 1 and params.model = "tree"',useQuickFilter:(0,u.ey)()})}},41629:function(e,t,n){n.d(t,{S:function(){return a}});var r=n(46709),s=n(58355);const a=e=>(0,r.useMemo)((()=>s.A.getStoreForComponent("ExperimentView",e)),[e])},42595:function(e,t,n){n.d(t,{t:function(){return d},z:function(){return p}});var r=n(68248),s=n(27757),a=n(46709),i=n(25637),o=n(52572),l=n(73408);var c={name:"1h0bf8r",styles:"body, :host{user-select:none;}"},u={name:"5ob2ly",styles:"display:flex;position:relative"};const d=({runListHidden:e,width:t,onResize:n,children:s,onHiddenChange:d,maxWidth:m})=>{const h=(0,o.e)(),[f,g]=(0,a.useState)(!1);return(0,l.FD)(l.FK,{children:[(0,l.Y)(i.ResizableBox,{css:u,style:{flex:`0 0 ${e?0:t}px`},width:t,axis:"x",resizeHandles:["e"],minConstraints:[250,0],maxConstraints:void 0===m?void 0:[m,0],handle:(0,l.Y)(p,{runListHidden:e,updateRunListHidden:e=>{d?d(e):h((t=>({...t,runListHidden:e})))}}),onResize:(t,{size:r})=>{e||n(r.width)},onResizeStart:()=>!e&&g(!0),onResizeStop:()=>g(!1),children:s}),f&&(0,l.Y)(r.mL,{styles:c})]})},p=a.forwardRef((({updateRunListHidden:e,runListHidden:t,...n},a)=>{const{theme:i}=(0,s.u)();return(0,l.FD)("div",{ref:a,...n,css:(0,r.AH)({transition:"opacity 0.2s",width:0,overflow:"visible",height:"100%",position:"relative",zIndex:10,display:"flex",opacity:t?1:0,"&:hover":{opacity:1,".bar":{opacity:1},".button":{border:`2px solid ${i.colors.actionDefaultBorderHover}`}}},""),children:[(0,l.Y)("div",{css:(0,r.AH)({position:"absolute",left:-i.general.iconSize/2,width:i.general.iconSize,cursor:t?void 0:"ew-resize",height:"100%",top:0,bottom:0},""),children:(0,l.Y)("div",{className:"button",css:(0,r.AH)({top:"50%",transition:"border-color 0.2s",position:"absolute",width:i.general.iconSize,height:i.general.iconSize,backgroundColor:i.colors.backgroundPrimary,borderRadius:i.general.iconSize,overflow:"hidden",border:`1px solid ${i.colors.border}`,display:"flex",alignItems:"center",justifyContent:"center",zIndex:11},""),children:(0,l.Y)(s.B,{componentId:"mlflow.experiment_page.table_resizer.collapse",onClick:()=>e(!t),icon:t?(0,l.Y)(s.o,{}):(0,l.Y)(s.n,{}),size:"small"})})}),(0,l.Y)("div",{className:"bar",css:(0,r.AH)({position:"absolute",opacity:0,left:-1.5,width:3,height:"100%",top:0,bottom:0,backgroundColor:i.colors.actionPrimaryBackgroundDefault},"")})]})}))},63678:function(e,t,n){n.d(t,{M:function(){return x}});var r=n(68248),s=n(27757),a=n(27299),i=n(79081),o=n(66916),l=n(7655),c=n(46709),u=n(3395),d=n(63591),p=n(40724),m=n(76118),h=n(41629),f=n(73408);const g="tooltipLastPopup";var b={name:"c61v0h",styles:".du-bois-light-select-item-option-active:not(.du-bois-light-select-item-option-disabled){background-color:#e6f1f5;}"},v={name:"9gxvqt",styles:"display:flex;gap:4px;align-items:center"};const x=({baseOptions:e,searchFilter:t,requestError:n=null,onSearchFilterChange:x,onClear:_,tooltipContent:w,placeholder:Y,useQuickFilter:k,defaultActiveFirstOption:y=!0,className:S})=>{const{theme:I,getPrefixedClassName:C}=(0,s.u)(),z=(0,c.useRef)(null),A=(0,l.A)(),[M,N]=(0,c.useState)(""),[F,L]=(0,c.useState)(void 0),[R,H]=(0,c.useState)(!1),[E,D]=(0,c.useState)(!1),[$,P]=(0,c.useState)({Metrics:10,Parameters:10,Tags:10}),B=(0,c.useRef)([]),[K,O]=(0,c.useState)(void 0);(0,c.useEffect)((()=>{N(t)}),[t]),(0,c.useEffect)((()=>{const e=B.current,t=(0,u.jP)(M);if(B.current=t,E)return void D(!1);const n=t.map((e=>e.name)),r=e.map((e=>e.name));if(!(0,m.isEqual)(n,r)&&t.length>=e.length){let n=0;for(;n<t.length;){if(n>=e.length||t[n].name.trim()!==e[n].name.trim())return L(!0),void O(t[n]);n++}}L(!1)}),[M]);const q=(0,c.useMemo)((()=>K?(0,u.M8)(e,K,$):[]),[e,K,$]),W=(0,c.useCallback)(((e,t)=>{if(K)if(e.startsWith("...")){L(!0);const e=t.value.split("_")[1];P((t=>({...t,[e]:t[e]+10})))}else{const t=M.substring(0,K.startIndex),n=M.substring(K.endIndex);N(t+e+" "+n),D(!0),L(!1)}}),[M,N,K,L]),j=(0,h.S)(g),[Q,T]=(0,c.useState)((()=>{const e=Math.floor(Date.now()/1e3),t=j.getItem(g);return!t||parseInt(t,10)<e-604800})),U=c.useRef(null),V=(0,c.useMemo)((()=>{if(k&&M.length>0&&!(0,d.cK)(M))return(0,d.jA)(M)}),[M,k]);(0,c.useEffect)((()=>{if(n&&Q){var e;const t=Math.floor(Date.now()/1e3);j.setItem(g,t),T(!1),null===(e=U.current)||void 0===e||e.click()}}),[n]);const Z=0===q.flatMap((e=>e.options)).length,G=F&&R&&!Z,J=(0,c.useCallback)((e=>{var t;const n=C("select-item-option-active"),r=Boolean(null===(t=z.current)||void 0===t?void 0:t.querySelector(`.${n}`));"Enter"===e.key&&(G&&L(!1),G&&r||x(M)),"Escape"===e.key&&(e.preventDefault(),G&&L(!1))}),[G,M,x,C]);return(0,f.Y)("div",{css:(0,r.AH)({display:"flex",gap:I.spacing.sm,width:430,[I.responsive.mediaQueries.xs]:{width:"auto"},"[type=search]::-webkit-search-cancel-button":{WebkitAppearance:"none"},"[type=search]::-webkit-search-decoration":{WebkitAppearance:"none"}},""),className:S,children:(0,f.Y)(a.AutoComplete,{dropdownMatchSelectWidth:560,css:(0,r.AH)({width:560,[I.responsive.mediaQueries.xs]:{width:"auto"}},""),defaultOpen:!1,defaultActiveFirstOption:y&&!k,open:G,options:q,onSelect:W,value:M,"data-testid":"runs-search-autocomplete",dropdownRender:e=>(0,f.Y)("div",{css:b,ref:z,children:e}),children:(0,f.Y)(o.I,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_runssearchautocomplete.tsx_236",value:M,prefix:(0,f.Y)(o.S,{css:(0,r.AH)({svg:{width:I.general.iconFontSize,height:I.general.iconFontSize,color:I.colors.textSecondary}},"")}),onKeyDown:J,onClick:()=>H(!0),onBlur:()=>H(!1),onChange:e=>N(e.target.value),placeholder:Y,"data-testid":"search-box",suffix:(0,f.FD)("div",{css:v,children:[M&&(0,f.Y)(s.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_runssearchautocomplete.tsx_212",onClick:()=>{_(),N("")},type:"link","data-testid":"clear-button",children:(0,f.Y)(s.C,{})}),V?(0,f.Y)(i.T,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_runssearchautocomplete.tsx_310",content:(0,f.Y)(p.A,{id:"ESmLOR",defaultMessage:"Using regular expression quick filter. The following query will be used: {filterSample}",values:{filterSample:(0,f.Y)("div",{children:(0,f.Y)("code",{children:V})})}}),delayDuration:0,children:(0,f.Y)(a.InfoFillIcon,{"aria-label":A.formatMessage({id:"ESmLOR",defaultMessage:"Using regular expression quick filter. The following query will be used: {filterSample}"},{filterSample:V}),css:(0,r.AH)({svg:{width:I.general.iconFontSize,height:I.general.iconFontSize,color:I.colors.actionPrimaryBackgroundDefault}},"")})}):(0,f.Y)(a.InfoPopover,{popoverProps:{side:"right"},iconProps:{ref:U},children:w})]})})})})}}}]);